<!DOCTYPE html>
<html lang="en" style="background: rgba(24, 24, 24, 1);" class="loading-screen">
<head>
    <title>AI Face Swap: The Best, Free & Online | For Photo & Video</title>
    <link rel="canonical" href="https://deepany.ai/face-swap">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="DeepAny.AI offers a free trial for creating realistic deepfake face swaps with cutting-edge AI technology. Easily swap faces in inputs and images with our user-friendly online ai tools. No technical skills required, start your free trial today!">
    <meta name="keywords" content="ai, deepany, face swap, free bodyswap, online photo editing, video face swap, gif swap, deepfake, AI face changer, image manipulation, AI-powered tools">
    <meta name="apple-mobile-web-app-title" content="AI Face Swap" />

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://deepany.ai">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="DeepAny.AI">
    <meta property="og:title" content="DeepAny.AI | Face Swap">
    <meta property="og:description" content="DeepAny.AI offers a free trial for creating realistic deepfake face swaps with cutting-edge AI technology!">
    <meta property="og:image" content="https://deepany.ai/assets/brand.png">
    <meta property="og:image:alt" content="DeepAny.AI | Brand Logo">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://deepany.ai">
    <meta property="twitter:title" content="DeepAny.AI | Face Swap">
    <meta property="twitter:description" content="DeepAny.AI offers a free trial for creating realistic deepfake face swaps with cutting-edge AI technology!">
    <meta property="twitter:image" content="https://deepany.ai/assets/brand.png">

    <style id="loading-stylesheet">
        .loading-screen {
            position: fixed;
            top: 50%;
            left: 50%;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #ff7300;
            z-index: 999999;
            border-radius: 50%;
            width: 50px !important;
            height: 50px !important;
            animation: spin 2s linear infinite
        }

        @keyframes spin {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }
    </style>
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="shortcut icon" href="/.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <script>
        const version = new URLSearchParams(window.location.search).get('version') || localStorage.getItem('version') || '1.1.1.5.0.8';
        const url = window.location.origin + window.location.pathname;

        document.addEventListener('DOMContentLoaded', () => {
            (async function () {
                const storedVersion = localStorage.getItem('version');
                const urlParamsVersion = new URLSearchParams(window.location.search).get('version');
                const version = urlParamsVersion || storedVersion || '1.1.1.5.0.8';

                try {
                    const randomParam = `nocache=${Math.random()}`;
                    const versionUrl = `${window.location.origin}/version?${randomParam}`;
                    const response = await fetch(versionUrl, { cache: "no-store" });
                    const newVersion = (await response.text()).trim();
                    localStorage.setItem('version', newVersion);

                    if (!urlParamsVersion && newVersion !== version) {
                        location.reload(true);
                    }
                } catch (error) {
                    console.error("Error checking for updates:", error);
                }
            })();
        });

        // Create and insert the stylesheet link with the version parameter
        const linkEl = document.createElement('link');
        linkEl.rel = 'stylesheet';
        linkEl.href = `css/styles.css?v=${version}`;
        document.head.appendChild(linkEl);
    </script>
    <style>
        :root {
            --input-size: calc(12vh * var(--scale-factor-h));
            --input-margin: calc(4vh * var(--scale-factor-h));
        }
    </style>
</head>
<body lang="en">
    <script type="module" defer>
        const version = new URLSearchParams(window.location.search).get('version') || localStorage.getItem('version') || '1.1.1.5.0.8';

        async function loadModule(url) {
            return import(`${url}?v=${version}`);
        }

        document.addEventListener('DOMContentLoaded', async function () {
            const functions = await loadModule('./scripts/functions.js');
            const { serverID, fetchWithRandom, hasSubscriptionPlan, showFrameSelector, getSelectedInputId, setDownloadCancelled, getAbortController, resetAbortController, pageName, setFetchableServerAdresses, getFetchableServerAdresses, checkServerStatus, setDynamicInterval, updateDownloadFile, cancelProcess, fetchUploadedChunks, processBlobToFile, createSectionAndElements, setMaxWidth, saveCountIndex, handleDownload, handleFileContainerEvents, handleUpload, setupFileUpload, setClientStatus, customFetch, checkServerQueue, showNotification, openDB, addToDB, getFromDB, initDB, setUser, getUserData, getUserDoc, setAuthentication, getFirebaseModules, getDocSnapshot, getDocsSnapshot, getScreenMode, getCurrentMain, updateContent, ScreenMode, createPages, setNavbar, setSidebar, showSidebar, removeSidebar, getSidebarActive, moveMains, setupMainSize, loadScrollingAndMain, showZoomIndicator, setScaleFactors, clamp, loadPageContent, retrieveImageFromURL, fetchServerAddress, ensureUniqueId, getUserInternetProtocol, fetchServerAddresses } = functions;

            if (!window.indexedDB) {
                alert('Your browser does not support IndexedDB.');
            }

            function savePageState() {
                const requiredIds = [
                    'enableOccluder',
                    'enableEnhancedAnalyzer',
                    'enableEnhancedLandmarks',
                    'removeBanner',
                    'showServers',
                    'keepFPS',
                    'ageModifier',
                    'fps-slider'
                ];

                if (!requiredIds.every(id => document.getElementById(id))) {
                    return;
                }

                const getCheckboxState = id => document.getElementById(id)?.checked || false; const activeLinks = Array.from(document.querySelectorAll('.nav-links .active')).map(link => link.getAttribute('for') || '');

                const state = {
                    enableOccluder: getCheckboxState('enableOccluder'),
                    enableEnhancedAnalyzer: getCheckboxState('enableEnhancedAnalyzer'),
                    enableEnhancedLandmarks: getCheckboxState('enableEnhancedLandmarks'),
                    removeBanner: getCheckboxState('removeBanner'),
                    showServers: getCheckboxState('showServers'),
                    keepFPS: getCheckboxState('keepFPS'),
                    fpsValue: document.getElementById('fps-slider').value,
                    ageModifier: getCheckboxState('ageModifier'),
                    ageModifierValue: document.getElementById('age-modifier').value,
                    enhancerBlendValue: document.getElementById('enhancerBlendValue').value,
                    activeLinks: activeLinks,
                    multiboxes: Array.from(document.querySelectorAll('.multibox')).map(multibox => ({
                        text: multibox.querySelector('.multibox-text')?.innerText || '',
                        open: multibox.classList.contains('open'),
                        items: Array.from(multibox.querySelectorAll('.item')).map(item => ({
                            checked: item.querySelector('input[type="checkbox"]')?.checked || false,
                        })),
                    })),
                    comboboxes: Array.from(document.querySelectorAll('.combobox')).map(combobox => ({
                        text: combobox.querySelector('.combobox-text')?.innerText || '',
                        open: combobox.classList.contains('open'),
                        items: Array.from(combobox.querySelectorAll('.item')).map(item => ({
                            checked: item.querySelector('input[type="checkbox"]')?.checked || false,
                        })),
                    })),
                };

                localStorage.setItem(pageName, JSON.stringify(state));
            }

            let userData = await getUserData();
            let userDoc = await getUserDoc();

            function updateMainContent(screenMode, pageContent) {
                pageContent.length = 0;
                {
                    pageContent.push(`
                                        <div style="position: absolute;">
                                            <div class="background-container hidden" style="flex-direction: column;align-items: stretch;width: inherit;height: inherit;" id="upload-options-modal-input-upload">
                                                <div class="background-dot-container">
                                                    <div class="background-dot-container-content" style="padding: 0;">
                                                        <h4 class="upload-option" id="upload-device-input-upload">Upload from device...</h4>
                                                    </div>
                                                </div>
                                                <div class="background-dot-container disabled">
                                                   <div class="background-dot-container-content disabled" style="padding: 0;">
                                                       <h4 class="upload-option disabled" id="upload-link-input-upload">Upload via link...</h4>
                                                       <input type="url" id="link-upload-input-upload" class="hidden disabled" placeholder="Paste link here...">
                                                   </div>
                                               </div>
                                            </div>
                                        </div>
                                        <div style="position: absolute;">
                                            <div class="background-container hidden" style="flex-direction: column;align-items: stretch;width: inherit;height: inherit;" id="upload-options-modal-face-upload">
                                                <div class="background-dot-container">
                                                    <div class="background-dot-container-content" style="padding: 0;">
                                                        <h4 class="upload-option" id="upload-device-face-upload">Upload from device...</h4>
                                                    </div>
                                                </div>
                                                <div class="background-dot-container disabled">
                                                   <div class="background-dot-container-content disabled" style="padding: 0;">
                                                       <h4 class="upload-option disabled" id="upload-link-face-upload">Upload via link...</h4>
                                                       <input type="url" id="link-upload-face-upload" class="hidden disabled" placeholder="Paste link here...">
                                                   </div>
                                               </div>
                                            </div>
                                        </div>
                                        <div id="baseContainer" style="display: grid; grid-template-columns: 8fr 3fr; width: 100%; height: 100%;gap: calc(2vh* var(--scale-factor-h));">
                                            <div id="secondBaseContainer" style="display: grid; grid-template-rows: 1fr auto; width: 100%; height: 100%;gap: calc(2vh* var(--scale-factor-h));">
                                                <div id="secondBaseChild" class="background-container" style="display: flex; flex-direction: column; align-items: stretch; width: 100%; height: 100%;">
                                                    <div style="display: flex; gap: calc(2vh * var(--scale-factor-h)); height: 100%;">
                                                        <div class="background-dot-container remove-dots">
                                                            <div class="background-dot-container-content" style="gap: calc(2vh* var(--scale-factor-h));">
                                                                <div class="background-container" style="display: none !important;width: min-content;gap: calc(2vh* var(--scale-factor-h));">
                                                                    <p class="background-dot-container-option selected" upload-type="device" translate="no" style="white-space: nowrap;overflow: visible;display: flex;gap: calc(0.8vh* var(--scale-factor-h));">
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 24 24" fill="none">
                                                                            <path d="M17 17H17.01M15.6 14H18C18.9319 14 19.3978 14 19.7654 14.1522C20.2554 14.3552 20.6448 14.7446 20.8478 15.2346C21 15.6022 21 16.0681 21 17C21 17.9319 21 18.3978 20.8478 18.7654C20.6448 19.2554 20.2554 19.6448 19.7654 19.8478C19.3978 20 18.9319 20 18 20H6C5.06812 20 4.60218 20 4.23463 19.8478C3.74458 19.6448 3.35523 19.2554 3.15224 18.7654C3 18.3978 3 17.9319 3 17C3 16.0681 3 15.6022 3.15224 15.2346C3.35523 14.7446 3.74458 14.3552 4.23463 14.1522C4.60218 14 5.06812 14 6 14H8.4M12 15V4M12 4L15 7M12 4L9 7" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                                        </svg>
                                                                        <span>Upload from Device</span>
                                                                    </p>
                                                                    <p class="background-dot-container-option" upload-type="url" translate="no" style="white-space: nowrap;overflow: visible;display: flex;gap: calc(0.8vh* var(--scale-factor-h));">
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="none" viewBox="0 0 192 192" style="enable-background:new 0 0 192 192" xml:space="preserve"><path d="M84 128.6H54.6C36.6 128.6 22 114 22 96c0-9 3.7-17.2 9.6-23.1 5.9-5.9 14.1-9.6 23.1-9.6H84m24 65.3h29.4c9 0 17.2-3.7 23.1-9.6 5.9-5.9 9.6-14.1 9.6-23.1 0-18-14.6-32.6-32.6-32.6H108M67.9 96h56.2" style="fill:none;stroke:white;stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10"/></svg>
                                                                        <span>Upload via URL</span>
                                                                    </p>
                                                                </div>
                                                                <div>
                                                                    <div id="modelSelection" class="combobox searchable" tooltip style="gap: calc(1vh* var(--scale-factor-h));">
                                                                        <div class="tooltip">List of available ready-to-use public DFL face models. These persons do not exists. Similarities with real people are accidental.</div>
                                                                        <span class="combobox-text" title="Model" default="Default (128x128)"></span>
                                                                        <span class="arrow-dwn"></span>
                                                                        <ul class="list-items" style="max-height: calc(24vh * var(--scale-factor-h));overflow: auto;display: none;">
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="ana_de_armas_320"><span>Ana de Armas (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="adrianne_palicki_384"><span>Adrianne Palicki (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="agnetha_falskog_224"><span>Agnetha Falskog (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="alan_ritchson_320"><span>Alan Ritchson (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="alicia_vikander_320"><span>Alicia Vikander (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="amber_midthunder_320"><span>Amber Midthunder (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="andras_arato_384"><span>Andras Arato (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="andrew_tate_320"><span>Andrew Tate (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="anne_hathaway_320"><span>Anne Hathaway (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="anya_chalotra_320"><span>Anya Chalotra (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="arnold_schwarzenegger_320"><span>Arnold Schwarzenegger (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="benjamin_affleck_320"><span>Benjamin Affleck (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="benjamin_stiller_384"><span>Benjamin Stiller (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="bradley_pitt_224"><span>Bradley Pitt (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="brie_larson_384"><span>Brie Larson (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="bryan_cranston_320"><span>Bryan Cranston (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="catherine_blanchett_352"><span>Catherine Blanchett (352x352)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="christian_bale_320"><span>Christian Bale (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="christopher_hemsworth_320"><span>Christopher Hemsworth (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="christoph_waltz_384"><span>Christoph Waltz (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="cillian_murphy_320"><span>Cillian Murphy (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="cobie_smulders_256"><span>Cobie Smulders (256x256)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="dwayne_johnson_384"><span>Dwayne Johnson (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="edward_norton_320"><span>Edward Norton (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="elisabeth_shue_320"><span>Elisabeth Shue (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="elon_musk_320"><span>Elon Musk (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="emily_blunt_320"><span>Emily Blunt (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="emma_stone_384"><span>Emma Stone (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="emma_watson_320"><span>Emma Watson (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="erin_moriarty_384"><span>Erin Moriarty (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="eva_green_320"><span>Eva Green (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="ewan_mcgregor_320"><span>Ewan McGregor (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="florence_pugh_320"><span>Florence Pugh (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="freya_allan_320"><span>Freya Allan (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="gary_cole_224"><span>Gary Cole (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="gigi_hadid_224"><span>Gigi Hadid (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="harrison_ford_384"><span>Harrison Ford (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="hayden_christensen_320"><span>Hayden Christensen (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="heath_ledger_320"><span>Heath Ledger (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="henry_cavill_448"><span>Henry Cavill (448x448)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="hugh_jackman_384"><span>Hugh Jackman (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="idris_elba_320"><span>Idris Elba (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jack_nicholson_320"><span>Jack Nicholson (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="james_mcavoy_320"><span>James McAvoy (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="james_varney_320"><span>James Varney (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jason_momoa_320"><span>Jason Momoa (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jason_statham_320"><span>Jason Statham (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jennifer_connelly_384"><span>Jennifer Connelly (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jimmy_donaldson_320"><span>Jimmy Donaldson (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jordan_peterson_384"><span>Jordan Peterson (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="karl_urban_224"><span>Karl Urban (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="kate_beckinsale_384"><span>Kate Beckinsale (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="laurence_fishburne_384"><span>Laurence Fishburne (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="lili_reinhart_320"><span>Lili Reinhart (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="mads_mikkelsen_384"><span>Mads Mikkelsen (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="mary_winstead_320"><span>Mary Winstead (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="margaret_qualley_384"><span>Margaret Qualley (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="melina_juergens_320"><span>Melina Juergens (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="michael_fassbender_320"><span>Michael Fassbender (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="michael_fox_320"><span>Michael Fox (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="millie_bobby_brown_320"><span>Millie Bobby Brown (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="morgan_freeman_320"><span>Morgan Freeman (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="patrick_stewart_320"><span>Patrick Stewart (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="rebecca_ferguson_320"><span>Rebecca Ferguson (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="scarlett_johansson_320"><span>Scarlett Johansson (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="seth_macfarlane_384"><span>Seth MacFarlane (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="thomas_cruise_320"><span>Thomas Cruise (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="thomas_hanks_384"><span>Thomas Hanks (384x384)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="emma_roberts_224"><span>Emma Roberts (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="ivanka_trump_224"><span>Ivanka Trump (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="lize_dzjabrailova_224"><span>Lize Dzjabrailova (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="sidney_sweeney_224"><span>Sidney Sweeney (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="winona_ryder_224"><span>Winona Ryder (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="alexandra_daddario_224"><span>Alexandra Daddario (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="alexei_navalny_224"><span>Alexei Navalny (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="amber_heard_224"><span>Amber Heard (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="dilraba_dilmurat_224"><span>Dilraba Dilmurat (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="elon_musk_224"><span>Elon Musk (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="emilia_clarke_224"><span>Emilia Clarke (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="emma_watson_224"><span>Emma Watson (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="erin_moriarty_224"><span>Erin Moriarty (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jackie_chan_224"><span>Jackie Chan (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="james_carrey_224"><span>James Carrey (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jason_statham_2_320"><span>Jason Statham (2) (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="keanu_reeves_320"><span>Keanu Reeves (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="margot_robbie_224"><span>Margot Robbie (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="natalie_dormer_224"><span>Natalie Dormer (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="nicolas_coppola_224"><span>Nicolas Coppola (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="robert_downey_224"><span>Robert Downey (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="rowan_atkinson_224"><span>Rowan Atkinson (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="ryan_reynolds_224"><span>Ryan Reynolds (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="scarlett_johansson_224"><span>Scarlett Johansson (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="sylvester_stallone_224"><span>Sylvester Stallone (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="thomas_cruise_224"><span>Thomas Cruise (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="thomas_holland_224"><span>Thomas Holland (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="vin_diesel_224"><span>Vin Diesel (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="vladimir_putin_224"><span>Vladimir Putin (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="angelica_trae_288"><span>Angelica Trae (288x288)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="ella_freya_224"><span>Ella Freya (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="emma_myers_320"><span>Emma Myers (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="evie_pickerill_224"><span>Evie Pickerill (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="kang_hyewon_320"><span>Kang Hyewon (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="maddie_mead_224"><span>Maddie Mead (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="nicole_turnbull_288"><span>Nicole Turnbull (288x288)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="alica_schmidt_320"><span>Alica Schmidt (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="ashley_alexiss_224"><span>Ashley Alexiss (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="billie_eilish_224"><span>Billie Eilish (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="brie_larson_224"><span>Brie Larson (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="cara_delevingne_224"><span>Cara Delevingne (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="carolin_kebekus_224"><span>Carolin Kebekus (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="chelsea_clinton_224"><span>Chelsea Clinton (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="claire_boucher_224"><span>Claire Boucher (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="corinna_kopf_224"><span>Corinna Kopf (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="florence_pugh_224"><span>Florence Pugh (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="hillary_clinton_224"><span>Hillary Clinton (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jenna_fischer_224"><span>Jenna Fischer (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="kim_jisoo_320"><span>Kim Jisoo (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="mica_suarez_320"><span>Mica Suarez (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="shailene_woodley_224"><span>Shailene Woodley (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="shraddha_kapoor_320"><span>Shraddha Kapoor (320x320)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="yu_jimin_352"><span>Yu Jimin (352x352)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="alison_brie_224"><span>Alison Brie (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="amber_heard_2_224"><span>Amber Heard (2) (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="angelina_jolie_224"><span>Angelina Jolie (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="aubrey_plaza_224"><span>Aubrey Plaza (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="bridget_regan_224"><span>Bridget Regan (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="cobie_smulders_224"><span>Cobie Smulders (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="deborah_woll_224"><span>Deborah Woll (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="dua_lipa_224"><span>Dua Lipa (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="emma_stone_224"><span>Emma Stone (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="hailee_steinfeld_224"><span>Hailee Steinfeld (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="hilary_duff_224"><span>Hilary Duff (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jessica_alba_224"><span>Jessica Alba (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="jessica_biel_224"><span>Jessica Biel (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="john_cena_224"><span>John Cena (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="kim_kardashian_224"><span>Kim Kardashian (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="kristen_bell_224"><span>Kristen Bell (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="lucy_liu_224"><span>Lucy Liu (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="margot_robbie_2_224"><span>Margot Robbie (2) (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="megan_fox_224"><span>Megan Fox (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="meghan_markle_224"><span>Meghan Markle (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="millie_bobby_brown_224"><span>Millie Bobby Brown (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="natalie_portman_224"><span>Natalie Portman (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="nicki_minaj_224"><span>Nicki Minaj (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="olivia_wilde_224"><span>Olivia Wilde (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="shay_mitchell_224"><span>Shay Mitchell (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="sophie_turner_224"><span>Sophie Turner (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                              <label class="checkbox" tooltip>
                                                                                <input type="checkbox" id="taylor_swift_224"><span>Taylor Swift (224x224)</span>
                                                                              </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="brad_pitt_448"><span>Brad Pitt (448x448)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="angelina_jolie_384"><span>Angelina Jolie (384x384)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="margaret_qualley_384"><span>Margaret Qualley (384x384)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="emilia_clarke_448"><span>Emilia Clarke (448x448)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="emma_stone_320"><span>Emma Stone (320x320)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="elizabeth_olsen_384"><span>Elizabeth Olsen (384x384)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="karina_aespa_352"><span>Karina Aespa (352x352)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="emily_blunt_320"><span>Emily Blunt (320x320)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="millie_bobby_brown_320"><span>Millie Bobby Brown (320x320)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="dasha_taran_288"><span>Dasha Taran (288x288)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="belle_delphine_288"><span>Belle Delphine (288x288)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="ella_freya_224"><span>Ella Freya (224x224)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="emma_stone_224"><span>Emma Stone (224x224)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="nadine_breaty_288"><span>Nadine Breaty (288x288)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="natalia_dyer_224"><span>Natalia Dyer (224x224)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="sidney_sweeney_224"><span>Sidney Sweeney (224x224)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="leonardo_dicaprio_288"><span>Leonardo DiCaprio (288x288)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="anna_taylor_joy_224"><span>Anya Taylor-Joy (224x224)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="bella_poarch_224"><span>Bella Poarch (224x224)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="brooke_monk_224"><span>Brooke Monk (224x224)</span>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="emilia_clarke_288"><span>Emilia Clarke (288x288)</span>
                                                                                </label>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                                <div id="thirdBaseContainer" style="display: grid; grid-template-rows: 1fr auto; width: 100%; height: 100%;gap: calc(2vh* var(--scale-factor-h));">
                                                                    <div id="fourthBaseContainer" style="display: grid; grid-template-columns: 3fr 3fr; width: 100%; height: 100%;gap: calc(2vh* var(--scale-factor-h));">
                                                                        <div id="inputSection" style="display: grid; grid-template-rows: 1fr auto; gap: calc(2vh * var(--scale-factor-h)); height: 100%;">
                                                                            <div class="card-container background-non-hover-for-card" style="display: block;height: 100%;width: 100%;">
                                                                                <div class="card remove-border card-dash-outline" style="position: relative;">
                                                                                    <div class="card-content card-remove-hover" style="--degree: 135deg;justify-content: center;padding: 0;border-color: white;">
                                                                                        <div id="inputs_beforeInit" class="circular-button-input-upload" style="cursor: pointer;width: 100%;height: 100%;display: flex;justify-content: center;align-items: center;">
                                                                                            <div style="display: flex;align-items: center;flex-direction: column; gap: calc(2vh * var(--scale-factor-h));">
                                                                                                <div style="display: flex;align-items: center;flex-direction: column; gap: calc(1vh * var(--scale-factor-h));">
                                                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none"><path fill="#ff8020" d="M28.5 57a28.5 28.5 0 1 0 0-57 28.5 28.5 0 0 0 0 57ZM14.25 21.375a3.559 3.559 0 0 1 3.563-3.563h14.25a3.559 3.559 0 0 1 3.562 3.563v14.25a3.559 3.559 0 0 1-3.563 3.563h-14.25a3.559 3.559 0 0 1-3.562-3.563v-14.25Zm29.936 14.016-4.998-3.328v-7.126l4.998-3.328a1.41 1.41 0 0 1 .757-.234c.757 0 1.37.612 1.37 1.37v11.51c0 .758-.613 1.37-1.37 1.37-.267 0-.534-.078-.757-.234Z" opacity=".4"></path><path fill="#ff8020" d="M17.667 17C15.638 17 14 18.713 14 20.833v15.334C14 38.287 15.639 40 17.667 40h14.666C34.362 40 36 38.287 36 36.167V20.833C36 18.713 34.361 17 32.333 17H17.667Zm22 15.333 5.145 3.582c.229.156.504.252.779.252.779 0 1.409-.66 1.409-1.474V22.307c0-.815-.63-1.474-1.41-1.474-.274 0-.55.084-.779.252l-5.144 3.582v7.666Z"></path></svg>
                                                                                                    <h4 style="color: rgb(255, 128, 32);">Upload your input</h4>
                                                                                                </div>
                                                                                                <p>Recommended Files: PNG, MP4, JPG, MOV... (Max: 2GB)</p>
                                                                                                <div class="card-link" style="display: flex;gap: calc(0.5vh * var(--scale-factor-h));align-items: center;">
                                                                                                    <svg width="17" height="17" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.20813 4.93781L5.95813 3.43781C5.90164 3.40012 5.83597 3.37848 5.76815 3.3752C5.70032 3.37191 5.63287 3.3871 5.57301 3.41915C5.51314 3.4512 5.4631 3.49891 5.42822 3.55718C5.39335 3.61545 5.37496 3.68209 5.375 3.75V6.75C5.37496 6.81791 5.39335 6.88455 5.42822 6.94282C5.4631 7.00109 5.51314 7.04879 5.57301 7.08085C5.63287 7.1129 5.70032 7.12809 5.76815 7.1248C5.83597 7.12152 5.90164 7.09988 5.95813 7.06219L8.20813 5.56219C8.25956 5.52796 8.30174 5.48154 8.33092 5.42708C8.3601 5.37262 8.37537 5.31179 8.37537 5.25C8.37537 5.18821 8.3601 5.12738 8.33092 5.07292C8.30174 5.01846 8.25956 4.97204 8.20813 4.93781ZM6.125 6.04922V4.45312L7.32406 5.25L6.125 6.04922ZM10.625 1.875H2.375C2.17609 1.875 1.98532 1.95402 1.84467 2.09467C1.70402 2.23532 1.625 2.42609 1.625 2.625V7.875C1.625 8.07391 1.70402 8.26468 1.84467 8.40533C1.98532 8.54598 2.17609 8.625 2.375 8.625H10.625C10.8239 8.625 11.0147 8.54598 11.1553 8.40533C11.296 8.26468 11.375 8.07391 11.375 7.875V2.625C11.375 2.42609 11.296 2.23532 11.1553 2.09467C11.0147 1.95402 10.8239 1.875 10.625 1.875ZM10.625 7.875H2.375V2.625H10.625V7.875ZM11.375 9.75C11.375 9.84946 11.3355 9.94484 11.2652 10.0152C11.1948 10.0855 11.0995 10.125 11 10.125H2C1.90054 10.125 1.80516 10.0855 1.73483 10.0152C1.66451 9.94484 1.625 9.84946 1.625 9.75C1.625 9.65054 1.66451 9.55516 1.73483 9.48483C1.80516 9.41451 1.90054 9.375 2 9.375H11C11.0995 9.375 11.1948 9.41451 11.2652 9.48483C11.3355 9.55516 11.375 9.65054 11.375 9.75Z" fill="black"></path></svg>
                                                                                                    <span>Select Input</span>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div id="inputs_afterInit" style="display: none; width: 100%; height: 100%; justify-content: center;"></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="card-container background-non-hover-for-card" style="display: block;height: 100%;width: 100%;">
                                                                                <div class="card remove-border card-dash-outline" style="position: relative;">
                                                                                    <div class="card-content card-remove-hover" style="--degree: 45deg;justify-content: center;border-color: white;">
                                                                                        <input type="file" accept="video/*,image/*" id="input-upload" style="display: none" multiple>
                                                                                        <div style="display: flex;">
                                                                                            <div><div class="circular-button circular-button-no-text circular-button-input-upload" style="margin: calc(var(--input-margin)/ 4);"></div></div>
                                                                                            <div class="inputs" style="flex-direction: column;width: 100%;align-items: flex-start;overflow: auto hidden !important;display: flex;align-content: flex-start;max-width: unset;"></div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div id="faceSection" style="display: grid; grid-template-rows: 1fr auto; gap: calc(2vh * var(--scale-factor-h)); height: 100%;">
                                                                            <div class="card-container background-non-hover-for-card" style="display: block;height: 100%;width: 100%;">
                                                                                <div class="card remove-border card-dash-outline" style="position: relative;">
                                                                                    <div class="card-content card-remove-hover" style="--degree: -135deg;justify-content: center;padding: 0;border-color: white;">
                                                                                        <div id="faces_beforeInit" class="circular-button-face-upload" style="cursor: pointer;width: 100%;height: 100%;display: flex;justify-content: center;align-items: center;">
                                                                                            <div style="display: flex;align-items: center;flex-direction: column; gap: calc(2vh * var(--scale-factor-h));">
                                                                                                <div style="display: flex;align-items: center;flex-direction: column; gap: calc(1vh * var(--scale-factor-h));">
                                                                                                <svg xmlns="http://www.w3.org/2000/svg" width="64" height="58" fill="none"><path fill="#ff8020" d="M11 7.91C11 4.098 14.169 1 18.067 1h38.866C60.831 1 64 4.1 64 7.91V32.09c0 3.811-3.169 6.91-7.067 6.91H18.067C14.169 39 11 35.901 11 32.09V7.91Zm30.917 3.454c-.884 0-1.712.432-2.209 1.155l-6.183 9.068-1.91-2.342a2.667 2.667 0 0 0-2.065-.972 2.65 2.65 0 0 0-2.065.972L20.42 27.88a2.538 2.538 0 0 0-.32 2.742 2.657 2.657 0 0 0 2.384 1.468h30.034c.982 0 1.877-.529 2.34-1.37a2.53 2.53 0 0 0-.132-2.657l-10.6-15.545a2.678 2.678 0 0 0-2.208-1.155Zm-16.784 3.454c.937 0 1.836-.364 2.499-1.011a3.416 3.416 0 0 0 1.035-2.443c0-.916-.373-1.795-1.035-2.443a3.575 3.575 0 0 0-2.499-1.012c-.937 0-1.835.364-2.498 1.012a3.416 3.416 0 0 0-1.035 2.443c0 .916.372 1.795 1.035 2.443a3.574 3.574 0 0 0 2.498 1.011Z" opacity=".4"></path><path fill="#ff8020" d="M5.419 10.625C5.419 9.171 4.21 8 2.709 8 1.208 8 0 9.17 0 10.625v24.5C0 43.34 6.875 50 15.354 50H51.48c1.501 0 2.709-1.17 2.709-2.625 0-1.454-1.208-2.625-2.71-2.625H15.354c-5.486 0-9.934-4.31-9.934-9.625v-24.5Zm39.287 2.046a2.746 2.746 0 0 0-2.258-1.17c-.903 0-1.75.437-2.258 1.17l-6.322 9.187-1.953-2.373a2.737 2.737 0 0 0-2.111-.985 2.72 2.72 0 0 0-2.111.985l-7.225 8.75a2.552 2.552 0 0 0-.328 2.778A2.719 2.719 0 0 0 22.58 32.5h30.707a2.73 2.73 0 0 0 2.393-1.389 2.544 2.544 0 0 0-.135-2.69L44.706 12.67Z"></path></svg>
                                                                                                <h4 style="color: rgb(255, 128, 32);">Upload face images</h4>
                                                                                                </div>
                                                                                                <p>Recommended Files: PNG, JPEG, JPG (Max: 50MB)</p>
                                                                                                <div class="card-link" style="display: flex;gap: calc(0.5vh * var(--scale-factor-h));align-items: center;">
                                                                                                    <svg width="12" height="12" viewBox="0 0 10 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.125 0.154053H0.875C0.676088 0.154053 0.485322 0.23307 0.34467 0.373723C0.204018 0.514375 0.125 0.70514 0.125 0.904053V7.65405C0.125 7.85296 0.204018 8.04373 0.34467 8.18438C0.485322 8.32504 0.676088 8.40405 0.875 8.40405H9.125C9.32391 8.40405 9.51468 8.32504 9.65533 8.18438C9.79598 8.04373 9.875 7.85296 9.875 7.65405V0.904053C9.875 0.70514 9.79598 0.514375 9.65533 0.373723C9.51468 0.23307 9.32391 0.154053 9.125 0.154053ZM9.125 0.904053V5.72046L7.90297 4.4989C7.83332 4.42923 7.75064 4.37397 7.65963 4.33627C7.56862 4.29857 7.47108 4.27917 7.37258 4.27917C7.27407 4.27917 7.17653 4.29857 7.08553 4.33627C6.99452 4.37397 6.91183 4.42923 6.84219 4.4989L5.90469 5.4364L3.84219 3.3739C3.70155 3.23335 3.51086 3.1544 3.31203 3.1544C3.1132 3.1544 2.92251 3.23335 2.78188 3.3739L0.875 5.28077V0.904053H9.125ZM0.875 6.34155L3.3125 3.90405L7.0625 7.65405H0.875V6.34155ZM9.125 7.65405H8.12328L6.43578 5.96655L7.37328 5.02905L9.125 6.78124V7.65405ZM5.75 2.96655C5.75 2.8553 5.78299 2.74655 5.8448 2.65404C5.90661 2.56154 5.99446 2.48944 6.09724 2.44687C6.20002 2.4043 6.31312 2.39316 6.42224 2.41486C6.53135 2.43657 6.63158 2.49014 6.71025 2.56881C6.78891 2.64747 6.84249 2.7477 6.86419 2.85681C6.8859 2.96593 6.87476 3.07903 6.83218 3.18181C6.78961 3.2846 6.71751 3.37245 6.62501 3.43425C6.53251 3.49606 6.42375 3.52905 6.3125 3.52905C6.16332 3.52905 6.02024 3.46979 5.91475 3.3643C5.80926 3.25881 5.75 3.11574 5.75 2.96655Z" fill="black"></path></svg>
                                                                                                    <span>Select Face</span>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div id="faces_afterInit" style="display: none;width: 100%;height: 100%;justify-content: center;"></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="card-container background-non-hover-for-card" style="display: block;height: 100%;width: 100%;">
                                                                                <div class="card remove-border card-dash-outline" style="position: relative;">
                                                                                    <div class="card-content card-remove-hover" style="--degree: -45deg;justify-content: center;border-color: white;">
                                                                                        <input type="file" accept="image/*" id="face-upload" style="display: none" multiple>
                                                                                        <div style="display: flex;">
                                                                                            <div><div class="circular-button circular-button-no-text circular-button-face-upload" style="margin: calc(var(--input-margin)/ 4);"></div></div>
                                                                                            <div class="faces" style="flex-direction: column;width: 100%;align-items: flex-start;overflow: auto hidden !important;display: flex;align-content: flex-start;max-width: unset;"></div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div id="processButtonSection" style="display: flex;gap: calc(2vh * var(--scale-factor-h));height: 100%;width: 100%;justify-content: flex-end;">
                                                                        <button id="cancelProcessBtn" style="width: auto;">
                                                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                                                                                <circle cx="12" cy="12" r="9" stroke="white"/>
                                                                                <path d="M18 18L6 6" stroke="white"/>
                                                                            </svg>
                                                                            <span>Cancel process</span>
                                                                        </button>
                                                                        <button id="analyzeFacesBtn" style="width: auto;">
                                                                            <svg width="12" height="12" viewBox="0 0 10 9" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M9.125 0.154053H0.875C0.676088 0.154053 0.485322 0.23307 0.34467 0.373723C0.204018 0.514375 0.125 0.70514 0.125 0.904053V7.65405C0.125 7.85296 0.204018 8.04373 0.34467 8.18438C0.485322 8.32504 0.676088 8.40405 0.875 8.40405H9.125C9.32391 8.40405 9.51468 8.32504 9.65533 8.18438C9.79598 8.04373 9.875 7.85296 9.875 7.65405V0.904053C9.875 0.70514 9.79598 0.514375 9.65533 0.373723C9.51468 0.23307 9.32391 0.154053 9.125 0.154053ZM9.125 0.904053V5.72046L7.90297 4.4989C7.83332 4.42923 7.75064 4.37397 7.65963 4.33627C7.56862 4.29857 7.47108 4.27917 7.37258 4.27917C7.27407 4.27917 7.17653 4.29857 7.08553 4.33627C6.99452 4.37397 6.91183 4.42923 6.84219 4.4989L5.90469 5.4364L3.84219 3.3739C3.70155 3.23335 3.51086 3.1544 3.31203 3.1544C3.1132 3.1544 2.92251 3.23335 2.78188 3.3739L0.875 5.28077V0.904053H9.125ZM0.875 6.34155L3.3125 3.90405L7.0625 7.65405H0.875V6.34155ZM9.125 7.65405H8.12328L6.43578 5.96655L7.37328 5.02905L9.125 6.78124V7.65405ZM5.75 2.96655C5.75 2.8553 5.78299 2.74655 5.8448 2.65404C5.90661 2.56154 5.99446 2.48944 6.09724 2.44687C6.20002 2.4043 6.31312 2.39316 6.42224 2.41486C6.53135 2.43657 6.63158 2.49014 6.71025 2.56881C6.78891 2.64747 6.84249 2.7477 6.86419 2.85681C6.8859 2.96593 6.87476 3.07903 6.83218 3.18181C6.78961 3.2846 6.71751 3.37245 6.62501 3.43425C6.53251 3.49606 6.42375 3.52905 6.3125 3.52905C6.16332 3.52905 6.02024 3.46979 5.91475 3.3643C5.80926 3.25881 5.75 3.11574 5.75 2.96655Z" fill="white"></path></svg>
                                                                            <span>Analyze Faces</span>
                                                                        </button>
                                                                        <button class="important" id="startProcessBtn" style="width: auto;">
                                                                            <svg style="opacity: 1;" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 256 256" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M197.58,129.06l-51.61-19-19-51.65a15.92,15.92,0,0,0-29.88,0L78.07,110l-51.65,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0l19-51.61,51.65-19a15.92,15.92,0,0,0,0-29.88ZM140.39,163a15.87,15.87,0,0,0-9.43,9.43l-19,51.46L93,172.39A15.87,15.87,0,0,0,83.61,163h0L32.15,144l51.46-19A15.87,15.87,0,0,0,93,115.61l19-51.46,19,51.46a15.87,15.87,0,0,0,9.43,9.43l51.46,19ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"></path></svg>
                                                                            <span>Swap Faces</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="background-container" style="display: flex; flex-direction: column; align-items: stretch; width: 100%; height: 100%;">
                                                    <div id="settingSection" style="display: flex; gap: calc(1vh * var(--scale-factor-h)); height: 100%;">
                                                        <div class="background-dot-container">
                                                            <div class="background-dot-container-content">
                                                                <h4 style="font-weight: 400;">Quality Settings</h4>
                                                                <div>
                                                                    <div id="enhancement" class="combobox" tooltip style="gap: calc(1vh* var(--scale-factor-h));">
                                                                        <div class="tooltip">Choose a face enhancement model to improve the facial features. Each option applies a different method for enhancing or restoring the face's appearance.</div>
                                                                        <span class="combobox-text" title="Enhancement" default="Disabled"></span>
                                                                        <div id="enhancerBlendContainer" style="display: flex;align-items: center;flex-direction: row-reverse;gap: calc(1vh* var(--scale-factor-h));">
                                                                            <input type="range" min="24" max="100" value="24" class="slider" id="enhancerBlendValue">
                                                                            <div class="slider-value" id="enhancerBlendDisplayValue">Auto</div>
                                                                        </div>
                                                                        <span class="arrow-dwn"></span>
                                                                        <ul class="list-items">
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="natural_face_enhancer_1024"><span>Default</span>
                                                                                    <div class="tooltip">Preserves realistic details, in 2048x2048 resolution.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="natural_face_enhancer_2048"><span>Detailed</span>
                                                                                    <div class="tooltip">Preserves realistic details, in 1024x1024 resolution.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="natural_face_enhancer_512"><span>Natural</span>
                                                                                    <div class="tooltip">Preserves realistic details, in 512x512 resolution.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="smooth_face_enhancer"><span>Smooth</span>
                                                                                    <div class="tooltip">Applies smoothing techniques for a refined and polished look.</div>
                                                                                </label>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                                <div>
                                                                    <div class="combobox" tooltip>
                                                                        <div class="tooltip">
                                                                            The addition of a "model upscaler" option enhances the resolution of swapped faces, making results more realistic and detailed.
                                                                        </div>
                                                                        <span class="combobox-text" title="Model upscaler" default="128x128"></span>
                                                                        <span class="arrow-dwn"></span>
                                                                        <ul class="list-items">
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="pixelBoost256x256"><span>256x256</span>
                                                                                    <div class="tooltip">Takes 2x longer, but the quality and detail improves.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="pixelBoost512x512"><span>512x512</span>
                                                                                    <div class="tooltip">Takes 4x longer, with significantly improved quality and details.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="pixelBoost1024x1024"><span>1024x1024</span>
                                                                                    <div class="tooltip">Takes 8x longer, resulting in the highest quality and details.</div>
                                                                                </label>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                                <label class="checkbox" tooltip>
                                                                    <input type="checkbox" id="enableOccluder"><span>Obstruction Detection</span>
                                                                    <div class="tooltip">Detects obstructing objects in front of the face, but this can cause slight unsimilarity as it will retain the unswapped original person's facial outline.</div>
                                                                </label>
                                                                <label style="display: none;" class="checkbox" tooltip>
                                                                    <input type="checkbox" id="enableEnhancedLandmarks"><span>68 Landmarks</span>
                                                                    <div class="tooltip">By enabling this feature, the system can more accurately identify and analyze specific facial components such as the eyebrows, eyes, nose, mouth, and jawline. It helps decreasing jitters in the face.</div>
                                                                </label>
                                                                <label class="checkbox" tooltip style="display: none;align-items: center;gap: calc(1.5vh* var(--scale-factor-h));justify-content: space-between;">
                                                                    <div class="tooltip">Slide left to decrease to younger age (up to -100%) and slide right to increase to older age (up to +100%).</div>
                                                                    <div style="display: flex;align-items: center;">
                                                                        <input type="checkbox" id="ageModifier">
                                                                        <span>Modify Age</span>
                                                                    </div>
                                                                    <div id="ageModifierContainer" style="display: flex;align-items: center;flex-direction: row-reverse;gap: calc(1.5vh* var(--scale-factor-h));">
                                                                        <input type="range" min="-100" max="100" value="0" class="slider" id="age-modifier">
                                                                        <div class="slider-value" id="age-modifier-value">0</div>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="background-dot-container">
                                                            <div class="background-dot-container-content">
                                                                <h4 style="font-weight: 400;">Facial Analyzer</h4>
                                                                <div>
                                                                    <div class="multibox" tooltip>
                                                                        <div class="tooltip">Select regions to customize in the new face. If an area is not enabled, it will remain unchanged from the original face.</div>
                                                                        <span class="multibox-text" title="Select Regions"></span>
                                                                        <span class="arrow-dwn"></span>
                                                                        <ul class="list-items">
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="skin"><span>Change Skin</span>
                                                                                    <div class="tooltip">Swap the skin area with the new face.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="eyebrow"><span>Change Eyebrow</span>
                                                                                    <div class="tooltip">Replace the eyebrow shape or color.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="eye"><span>Change Eye</span>
                                                                                    <div class="tooltip">Change the eye appearance.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="glasses"><span>Change Glasses</span>
                                                                                    <div class="tooltip">Modify or add eyewear styles.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="nose"><span>Change Nose</span>
                                                                                    <div class="tooltip">Alter the nose shape or size.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="mouth"><span>Change Mouth</span>
                                                                                    <div class="tooltip">Change the shape or expression of the mouth.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="lip"><span>Change Lip</span>
                                                                                    <div class="tooltip">Adjust the color or shape of the lips.</div>
                                                                                </label>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                                <div>
                                                                    <div class="multibox" tooltip>
                                                                        <div class="tooltip">Select head orientation to improve the analysis of the input video. Rotates the input to get the frontal head rotation.</div>
                                                                        <span class="multibox-text" title="Orientation"></span>
                                                                        <span class="arrow-dwn"></span>
                                                                        <ul class="list-items">
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="frontalRotation" checked disabled><span>Frontal Head (0)</span>
                                                                                    <div class="tooltip">The face is facing forward. Best for accurate analysis.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="rightRotation"><span>Tilted Right Head (90)</span>
                                                                                    <div class="tooltip">Select this if the face in the input is tilted to the right.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <input type="checkbox" id="invertedRotation"><span>Inverted Head (180)</span>
                                                                                    <div class="tooltip">Select this if the face in the input is upside down.</div>
                                                                                </label>
                                                                            </li>
                                                                            <li class="item">
                                                                                <label class="checkbox" tooltip>
                                                                                    <div class="tooltip">Select this if the face in the input is tilted to the left.</div>
                                                                                    <input type="checkbox" id="leftRotation"><span>Tilted Left Head (-90)</span>
                                                                                </label>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                                <div>
                                                                    <label class="checkbox" tooltip>
                                                                        <input type="checkbox" id="enableEnhancedAnalyzer"><span>Multiple Face Detectors</span>
                                                                        <div class="tooltip">Use multiple detection algorithms (like YoloFace, RetinaFace, SCRFD) to get the best results. It helps decreasing flickerings.</div>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="background-dot-container">
                                                            <div class="background-dot-container-content">
                                                                <h4 style="font-weight: 400;">Miscellaneous</h4>
                                                                <div>
                                                                    <label class="checkbox">
                                                                        <input type="checkbox" id="removeBanner"><span>Remove banner</span>
                                                                    </label>
                                                                </div>
                                                                <div>
                                                                    <label class="checkbox" style="display: flex;align-items: center;gap: calc(1vh* var(--scale-factor-h));justify-content: space-between;">
                                                                        <div style="display: flex;align-items: center;"><input type="checkbox" id="keepFPS"><span>Keep FPS</span></div>
                                                                        <div id="keepFPSContainer" style="display: flex;align-items: center;flex-direction: row-reverse;gap: calc(1vh* var(--scale-factor-h));">
                                                                            <input type="range" min="1" max="60" value="30" class="slider" id="fps-slider">
                                                                            <div class="slider-value" id="fps-value">30</div>
                                                                        </div>
                                                                    </label>
                                                                </div>
                                                                <div id="showServersContainer" style="display: none;">
                                                                    <label class="checkbox">
                                                                        <input type="checkbox" id="showServers">Server List</input>
                                                                    </label>
                                                                </div>
                                                                <div id="serverList" style="display: flex;justify-content: space-evenly;flex-wrap: wrap;align-content: stretch;flex-direction: column;"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="background-container" style="display: flex; flex-direction: column; align-items: stretch; width: 100%; height: 100%;">
                                                <div style="display: grid;grid-template-rows: 1fr auto;gap: calc(1vh * var(--scale-factor-h));height: 100%;">
                                                    <div class="background-dot-container remove-dots">
                                                        <div id="outputSection" class="background-dot-container-content" style="--degree: 135deg;display: grid;grid-template-rows: 1fr auto;gap: calc(2vh* var(--scale-factor-h));border-color: white;">
                                                            <div class="card-container background-non-hover-for-card" style="display: block;height: 100%;width: 100%;">
                                                                <div class="card" style="position: relative;">
                                                                    <div class="card-content card-remove-hover" style="--degree: -135deg;justify-content: center;padding: 0;border-color: white;">
                                                                        <div id="outputs_beforeInit"  style="width: 100%;height: 100%;display: flex;justify-content: center;align-items: center;">
                                                                            <div style="display: flex;align-items: center;gap: calc(1vh * var(--scale-factor-h));flex-direction: column;">
                                                                                <svg style="width: 6vh;" viewBox="0 0 49 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M44.5393 33.64L38.2793 19C37.1393 16.32 35.4393 14.8 33.4993 14.7C31.5793 14.6 29.7193 15.94 28.2993 18.5L24.4993 25.32C23.6993 26.76 22.5593 27.62 21.3193 27.72C20.0593 27.84 18.7993 27.18 17.7793 25.88L17.3393 25.32C15.9193 23.54 14.1593 22.68 12.3593 22.86C10.5593 23.04 9.0193 24.28 7.9993 26.3L4.5393 33.2C3.2993 35.7 3.4193 38.6 4.8793 40.96C6.3393 43.32 8.8793 44.74 11.6593 44.74H37.1793C39.8593 44.74 42.3593 43.4 43.8393 41.16C45.3593 38.92 45.5993 36.1 44.5393 33.64Z" fill="#EFF6FF" fill-opacity="0.25"></path><path d="M14.4402 16.76C18.1736 16.76 21.2002 13.7334 21.2002 9.99999C21.2002 6.26655 18.1736 3.23999 14.4402 3.23999C10.7067 3.23999 7.68018 6.26655 7.68018 9.99999C7.68018 13.7334 10.7067 16.76 14.4402 16.76Z" fill="#EFF6FF" fill-opacity="0.25"></path></svg>
                                                                                <small style="color: grey;">Your output will display here!</small>
                                                                            </div>
                                                                        </div>
                                                                        <div id="outputs_afterInit" style="display: none; width: 100%; height: 100%; justify-content: center;"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="card-container background-non-hover-for-card" style="display: block;height: 100%;width: 100%;">
                                                                <div class="card" style="position: relative;">
                                                                    <div class="card-content card-remove-hover" style="--degree: -45deg;justify-content: center;border-color: white;min-height: calc(var(--input-size) + (var(--input-margin)));">
                                                                        <div style="display: flex;">
                                                                            <div class="outputs" style="flex-direction: column;width: 100%;align-items: flex-start;overflow: auto hidden !important;display: flex;align-content: flex-start;max-width: unset;"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="background-dot-container">
                                                        <div class="background-dot-container-content" style="--degree: 45deg;border-color: white;display: flex;gap: calc((1.5vh* var(--scale-factor-h)));">
                                                            <button disabled class="wide" id="downloadOutput">
                                                                <span>Download</span>
                                                            </button>
                                                            <button disabled class="wide" id="viewOutput">
                                                                <span>Preview</span>
                                                            </button>
                                                            <button disabled class="wide" id="clearOutputs">
                                                                <span>Clear</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    `);
                }
            }

            loadPageContent(setUser, retrieveImageFromURL, getUserInternetProtocol, ensureUniqueId, fetchServerAddress, getFirebaseModules, getDocSnapshot, getScreenMode, getCurrentMain, updateContent, createPages, setNavbar, setSidebar, showSidebar, removeSidebar, getSidebarActive, moveMains, setupMainSize, loadScrollingAndMain, showZoomIndicator, setScaleFactors, clamp, setAuthentication, updateMainContent, savePageState);

            const mainContainers = document.querySelectorAll('.main-container');
            mainContainers.forEach((mainContainer, id) => {
                mainContainer.style.justifyContent = 'flex-start';
            });

            window.addEventListener('beforeunload', () => { savePageState(); });
            window.addEventListener('pagehide', () => { savePageState(); });

            document.addEventListener('click', () => { savePageState(); });
            document.addEventListener('touchend', () => { savePageState(); });

            let maximumAllowedFrames = 36000;
            let oldMaximumAllowedFrames = null;

            function updateFrameLimit(checkbox) {
                oldMaximumAllowedFrames = maximumAllowedFrames;
                maximumAllowedFrames = 36000;

                const enhancers = [
                    document.getElementById('smooth_face_enhancer'),
                    document.getElementById('natural_face_enhancer_512'),
                    document.getElementById('natural_face_enhancer_1024'),
                    document.getElementById('natural_face_enhancer_2048'),
                ];

                const enabledEnhancer = getSelectedInputId(enhancers);
                if (!enabledEnhancer)
                    maximumAllowedFrames *= 2;

                const pixelBoosters = [
                    document.getElementById('pixelBoost256x256'),
                    document.getElementById('pixelBoost512x512'),
                    document.getElementById('pixelBoost1024x1024')
                ];

                const enabledPixelBoost = getSelectedInputId(pixelBoosters);
                if (enabledPixelBoost)
                    maximumAllowedFrames /= parseInt(enabledPixelBoost.match(/\d+x\d+/)[0].split('x')[0]) / 128;

                if (!document.getElementById("enableEnhancedLandmarks").checked)
                    maximumAllowedFrames *= 1.1;

                if (!document.getElementById("enableEnhancedAnalyzer").checked)
                    maximumAllowedFrames *= 1.1;

                if (!document.getElementById("enableOccluder").checked)
                    maximumAllowedFrames *= 1.1;

                if (document.getElementById("rightRotation").checked)
                    maximumAllowedFrames /= 1.1;

                if (document.getElementById("invertedRotation").checked)
                    maximumAllowedFrames /= 1.1;

                if (document.getElementById("leftRotation").checked)
                    maximumAllowedFrames /= 1.1;

                const values = [
                    document.getElementById("skin").checked,
                    document.getElementById("eyebrow").checked,
                    document.getElementById("eye").checked,
                    document.getElementById("glasses").checked,
                    document.getElementById("nose").checked,
                    document.getElementById("mouth").checked,
                    document.getElementById("lip").checked
                ];

                const enableRegionsCheck = values.some(value => !value);
                if (enableRegionsCheck)
                    maximumAllowedFrames /= 1.1;

                const pageData = localStorage.getItem(pageName) || null;
                if (!pageData || !checkbox || oldMaximumAllowedFrames === maximumAllowedFrames)
                    return;

                const span = checkbox.nextElementSibling;
                const featureText = span ? span.textContent : '';

                const frameRate = 30;
                const totalMinutes = (maximumAllowedFrames / frameRate) / 60;
                const frameLimitMessage = `Frame limit is ${Math.floor(maximumAllowedFrames)}: Allows you to upload a video up to ${totalMinutes.toFixed(2)} minutes at ${frameRate} FPS.`/*hasSubscriptionPlan(userDoc) ?
                                        `Frame limiter is active as youre using subscription. With credits, you'd not be limited to ${totalMinutes.toFixed(2)} minutes at ${frameRate} FPS.` :
                                        `Frame limiter is not active as youre using credits. With a subscription, you'd be limited to ${totalMinutes.toFixed(2)} minutes at ${frameRate} FPS.`*/;

                showNotification(
                    frameLimitMessage,
                    `${featureText} ${checkbox.checked ? "Enabled" : "Disabled"}`,
                    'normal'
                );
            }

            const creditPerTotalFrames = 120;
            const MAX_TASK_LIMIT = 10;
            const STATUS_OK = 200;
            const STATUS_NOTFOUND = 404;

            function loadPageState() {
                setMaxWidth();

                const pageData = localStorage.getItem(pageName) || null;
                if (pageData) {
                    const state = JSON.parse(pageData || '{}') || {};

                    const enableOccluder = document.getElementById('enableOccluder');
                    if (enableOccluder) enableOccluder.checked = state.enableOccluder || false;

                    const enableEnhancedAnalyzer = document.getElementById('enableEnhancedAnalyzer');
                    if (enableEnhancedAnalyzer) enableEnhancedAnalyzer.checked = state.enableEnhancedAnalyzer || false;

                    const enableEnhancedLandmarks = document.getElementById('enableEnhancedLandmarks');
                    if (enableEnhancedLandmarks) enableEnhancedLandmarks.checked = state.enableEnhancedLandmarks || false;

                    const removeBanner = document.getElementById('removeBanner');
                    if (removeBanner) removeBanner.checked = state.removeBanner || false;

                    const showServers = document.getElementById('showServers');
                    if (showServers) showServers.checked = state.showServers || false;

                    const keepFPS = document.getElementById('keepFPS');
                    if (keepFPS) keepFPS.checked = state.keepFPS || false;

                    const fpsSlider = document.getElementById('fps-slider');
                    if (fpsSlider) fpsSlider.value = state.fpsValue || 30;

                    const ageModifier = document.getElementById('ageModifier');
                    if (ageModifier) ageModifier.checked = state.ageModifier || false;

                    const ageModifierSlider = document.getElementById('age-modifier');
                    if (ageModifierSlider) ageModifierSlider.value = state.ageModifierValue || 30;

                    const enhancerBlendValue = document.getElementById('enhancerBlendValue');
                    if (enhancerBlendValue) enhancerBlendValue.value = state.enhancerBlendValue || 30;

                    const fpsValue = document.getElementById('fps-value');
                    if (fpsValue) fpsValue.textContent = (state.fpsValue || 30) + ' FPS';

                    document.querySelectorAll('.nav-links .text').forEach(link => {
                        if (state.activeLinks.includes(link.getAttribute('for'))) {
                            link.classList.add('active');

                            const targetSection = document.getElementById(link.getAttribute('for'));
                            if (targetSection) {
                                targetSection.style.display = 'flex';
                            }
                        }
                    });

                    const multiboxQuery = document.querySelectorAll('.multibox');
                    multiboxQuery.forEach((multibox, id) => {
                        const btnText = multibox.querySelector('.multibox-text');
                        const items = multibox.querySelectorAll('.item');

                        if (state.multiboxes && state.multiboxes[id]) {
                            if (btnText) btnText.innerText = state.multiboxes[id].text || '';

                            if (state.multiboxes[id].open) {
                                multibox.classList.add('open');
                                const listItems = multibox.querySelector('.list-items');
                                if (listItems) listItems.style.display = 'flex';
                            } else {
                                multibox.classList.remove('open');
                                const listItems = multibox.querySelector('.list-items');
                                if (listItems) listItems.style.display = 'none';
                            }

                            state.multiboxes[id].items.forEach((itemState, itemIndex) => {
                                if (itemIndex < items.length) {
                                    const checkbox = items[itemIndex].querySelector('input[type="checkbox"]');
                                    if (checkbox) {
                                        checkbox.checked = itemState.checked;
                                        items[itemIndex].classList.toggle('checked', checkbox.checked);
                                    }
                                }
                            });
                        }
                    });

                    const comboboxQuery = document.querySelectorAll('.combobox');
                    comboboxQuery.forEach((combobox, id) => {
                        const btnText = combobox.querySelector('.combobox-text');
                        const items = combobox.querySelectorAll('.item');

                        if (state.comboboxes && state.comboboxes[id]) {
                            if (btnText) btnText.innerText = state.comboboxes[id].text || '';

                            if (state.comboboxes[id].open) {
                                combobox.classList.add('open');
                                const listItems = combobox.querySelector('.list-items');
                                if (listItems) listItems.style.display = 'flex';
                            } else {
                                combobox.classList.remove('open');
                                const listItems = combobox.querySelector('.list-items');
                                if (listItems) listItems.style.display = 'none';
                            }

                            state.comboboxes[id].items.forEach((itemState, itemIndex) => {
                                if (itemIndex < items.length) {
                                    const checkbox = items[itemIndex].querySelector('input[type="checkbox"]');
                                    if (checkbox) {
                                        checkbox.checked = itemState.checked;
                                        items[itemIndex].classList.toggle('checked', checkbox.checked);
                                    }
                                }
                            });
                        }
                    });
                } else {
                    const checkboxIds = [
                        'skin',
                        'eyebrow',
                        'eye',
                        'glasses',
                        'nose',
                        'mouth',
                        'lip',
                        'enableEnhancedAnalyzer',
                        'enableEnhancedLandmarks',
                        'enableOccluder',
                        'natural_face_enhancer_1024',
                        'pixelBoost256x256',
                        'keepFPS'
                    ];

                    checkboxIds.forEach(id => {
                        const checkbox = document.getElementById(id);
                        if (checkbox) {
                            checkbox.checked = true;
                            setTimeout(() => { checkbox.dispatchEvent(new Event('change')); }, 0);
                        }
                    });
                }
            }

            const databases = [
                { indexName: `outputDB-${pageName}`, objectStore: 'outputs' },
                { indexName: `faceDB-${pageName}`, objectStore: 'faces' },
                { indexName: `inputDB-${pageName}`, objectStore: 'inputs' }
            ];

            window.addEventListener('beforeunload', async () => { await saveCountIndex(databases); });
            window.addEventListener('pagehide', async () => { await saveCountIndex(databases); });

            document.addEventListener('click', async () => { await saveCountIndex(databases); });
            document.addEventListener('touchend', async () => { await saveCountIndex(databases); });

            const fileUploads = [
                { buttonId: 'circular-button-face-upload', inputId: 'face-upload', dataBaseIndexName: `faceDB-${pageName}`, dataBaseObjectStoreName: 'faces', databases },
                { buttonId: 'circular-button-input-upload', inputId: 'input-upload', dataBaseIndexName: `inputDB-${pageName}`, dataBaseObjectStoreName: 'inputs', databases }
            ];

            checkServerStatus(databases, userData?.uid);
            setDynamicInterval(databases, userData?.uid);

            async function loadPage() {
                const removeDataButton = document.getElementById('removeData');
                if (removeDataButton)
                    removeDataButton.addEventListener('click', () => cleanSiteData(false));

                const facialCheckboxes = document.getElementById('facialCheckboxes');
                if (facialCheckboxes)
                    facialCheckboxes.style.flexDirection = getScreenMode() === ScreenMode.PC ? 'row' : 'column';

                const showServers = document.getElementById('showServers');
                const serverListContainer = document.getElementById('serverList');
                serverListContainer.style.display = showServers.checked ? 'block' : 'none';

                showServers.addEventListener('click', async () => {
                    serverListContainer.style.display = showServers.checked ? 'block' : 'none';
                });

                databases.forEach(db => initDB(db.indexName, db.objectStore, handleDownload, databases));

                document.querySelector('.inputs').addEventListener('click', async function (event) {
                    await handleFileContainerEvents(event, `inputDB-${pageName}`, 'inputs', document.querySelector('.inputs'), databases);
                });

                document.querySelector('.faces').addEventListener('click', async function (event) {
                    await handleFileContainerEvents(event, `faceDB-${pageName}`, 'faces', document.querySelector('.faces'), databases);
                });

                document.querySelector('.outputs').addEventListener('click', async function (event) {
                    await handleFileContainerEvents(event, `outputDB-${pageName}`, 'outputs', document.querySelector('.outputs'), databases);
                });

                document.querySelectorAll('.question-mark').forEach(questionMark => {
                    questionMark.addEventListener('click', (event) => {
                        event.stopPropagation();
                    });
                });

                fileUploads.forEach(config => setupFileUpload({ ...config, changeHandler: handleUpload }));
                createSectionAndElements();

                const keepFPS = document.getElementById('keepFPS');
                const keepFPSContainer = document.getElementById('keepFPSContainer');
                const fpsSlider = document.getElementById('fps-slider');
                const fpsValue = document.getElementById('fps-value');
                keepFPSContainer.style.display = !keepFPS.checked ? 'flex' : 'none';
                keepFPS.addEventListener('change', () => {
                    keepFPSContainer.style.display = !keepFPS.checked ? 'flex' : 'none';
                });

                fpsValue.innerText = fpsSlider.value + " FPS";
                fpsSlider.addEventListener('input', () => {
                    fpsValue.innerText = fpsSlider.value + " FPS";
                });

                /*const opacityContainer = document.getElementById('opacityContainer');
                const opacitySlider = document.getElementById('opacity-slider');
                const opacityValue = document.getElementById('opacity-value');
                opacityContainer.style.display = 'flex';

                opacityValue.innerText = "Opacity: " + opacitySlider.value + "%";
                opacitySlider.addEventListener('input', () => {
                    opacityValue.innerText = "Opacity: " + opacitySlider.value + "%";
                });*/

                const ageModifier = document.getElementById('ageModifier');
                if (ageModifier) {
                    const ageModifierContainer = document.getElementById('ageModifierContainer');
                    if (ageModifierContainer)
                        ageModifierContainer.style.display = ageModifier.checked ? 'flex' : 'none';

                    ageModifier.addEventListener('change', () => {
                        if (ageModifierContainer)
                            ageModifierContainer.style.display = ageModifier.checked ? 'flex' : 'none';
                    });
                }

                const ageModifierSlider = document.getElementById('age-modifier');
                const ageModifierValue = document.getElementById('age-modifier-value');

                if (ageModifierValue && ageModifierSlider) {
                    ageModifierValue.innerText = ageModifierSlider.value + "%";

                    ageModifierSlider.addEventListener('input', () => {
                        ageModifierValue.innerText = ageModifierSlider.value + "%";
                    });
                }

                const enhancerBlendValueSlider = document.getElementById('enhancerBlendValue');
                const enhancerBlendDisplayValue = document.getElementById('enhancerBlendDisplayValue');

                if (enhancerBlendDisplayValue && enhancerBlendValueSlider) {
                    enhancerBlendDisplayValue.innerText = parseInt(enhancerBlendValueSlider.value) < 25 ? 'Auto' : enhancerBlendValueSlider.value + "%";

                    enhancerBlendValueSlider.addEventListener('input', () => {
                        enhancerBlendDisplayValue.innerText = parseInt(enhancerBlendValueSlider.value) < 25 ? 'Auto' : enhancerBlendValueSlider.value + "%";
                    });
                }

                const analyzeFacesBtn = document.getElementById('analyzeFacesBtn');
                analyzeFacesBtn.addEventListener('click', async () => {
                    const activeInput = document.querySelector(".inputs .data-container.active");
                    if (!activeInput) {
                        showNotification(`Please select one of your uploaded inputs by clicking on it above.`, 'Warning - No Active Input', 'warning-important');
                        return;
                    }

                    await showFrameSelector(activeInput);
                });

                const removeBannerCheckbox = document.getElementById("removeBanner");
                if (removeBannerCheckbox && userDoc?.paid && localStorage.getItem(`bannerChecked_${pageName}`) === null) {
                    removeBannerCheckbox.checked = true;
                    localStorage.setItem(`bannerChecked_${pageName}`, "true");
                }

                const startProcessBtn = document.getElementById('startProcessBtn');

                async function startProcess() {
                    startProcessBtn.disabled = true;

                    try {
                        showNotification(`Starting the process...`, 'Process - Information', 'information');

                        if (typeof userData !== 'object' || !userData?.uid) {
                            const openSignInContainer = document.getElementById('openSignInContainer');
                            if (openSignInContainer)
                                openSignInContainer.click();
                            startProcessBtn.disabled = false;
                            showNotification(`Please sign in or create an account to use our AI services with free (daily) trial.`, 'Warning - No User Found', 'warning-important');
                            return;
                        }

                        function getCheckedCheckboxIdFromCombobox(comboboxId) {
                            const container = document.getElementById(comboboxId);
                            if (!container) return null;

                            const checkedItem = container.querySelector('li.item.checked');
                            if (!checkedItem) return null;

                            const checkbox = checkedItem.querySelector('input[type="checkbox"]');
                            return checkbox ? checkbox.id : null;
                        }

                        const modelSelection = getCheckedCheckboxIdFromCombobox('modelSelection');
                        const dataContainer = document.createElement('div');
                        dataContainer.className = 'data-container';

                        const processText = document.createElement('div');
                        processText.className = 'process-text';
                        dataContainer.appendChild(processText);

                        const outputs = document.querySelector('.outputs');
                        outputs.style.display = 'flex';
                        outputs.insertBefore(dataContainer, outputs.firstChild);

                        if (!userData.emailVerified) {
                            setClientStatus('Verify Your Email');
                            showNotification(`Please verify you.`, 'Warning - No Input Selected', 'warning-important');
                            startProcessBtn.disabled = false;
                            return;
                        }

                        userDoc = await getUserDoc();

                        const activeVideoInput = document.querySelector(".inputs .data-container.active video");
                        const activePhotoInput = document.querySelector(".inputs .data-container.active img");
                        const activePhoto = document.querySelector(".faces .data-container.active img");

                        if (!activeVideoInput && !activePhotoInput) {
                            setClientStatus(`Click Your Uploaded Input Above`);
                            showNotification(`Click your uploaded input above to select it.`, 'Warning - No Input Selected', 'warning-important');
                            startProcessBtn.disabled = false;
                            return;
                        }

                        if (!activePhoto && modelSelection === null) {
                            setClientStatus(`Click Your Uploaded Face Above`);
                            showNotification(`Click your uploaded face above to select it.`, 'Warning - No Face Selected', 'warning-important');
                            startProcessBtn.disabled = false;
                            return;
                        }

                        let videoDurationTotalFrames = 0;
                        let calculatedFrameRate = null;
                        let actualFPS = 0;

                        if (activeVideoInput) {
                            actualFPS = activeVideoInput ? activeVideoInput?.getAttribute('data-fps') : null;
                            calculatedFrameRate = (!keepFPS.checked ? Math.min(actualFPS, document.getElementById("fps-slider").value) : actualFPS);
                            videoDurationTotalFrames = Math.floor(activeVideoInput.duration * calculatedFrameRate);
                            if (videoDurationTotalFrames <= 0 && !hasSubscriptionPlan(userDoc)) {
                                setClientStatus(`No Frame Detected`);
                                showNotification(`Your video has incorrect metadata. Try using a online MP4 converter for you video or contact us.`, 'Warning - No Frame Detected', 'warning-important');
                                startProcessBtn.disabled = false;
                                return;
                            }

                            if (videoDurationTotalFrames > maximumAllowedFrames && !userDoc.admin && !userDoc.promoter /*&& hasSubscriptionPlan(userDoc)*/) {
                                setClientStatus(`Exceeding Frame Limit ${maximumAllowedFrames}`);

                                const message = !keepFPS.checked
                                    ? `Your video has ${videoDurationTotalFrames} frames, exceeding the limit of ${maximumAllowedFrames}. If your video has less than 60 FPS, please specify by disabling the "Keep FPS" option.`
                                    : `Your video has ${videoDurationTotalFrames} frames, exceeding the limit of ${maximumAllowedFrames}. Lowering the settings will increase the allowed frame limit.`;

                                showNotification(message, 'Warning - Exceeding Frame Limit', 'warning-important');
                                startProcessBtn.disabled = false;
                                return;
                            }
                        }

                        const removeBanner = document.getElementById("removeBanner");
                        const removeBannerStateMultiplier = removeBanner.checked ? 2 : 1;

                        let neededCredits = 0;

                        if (activeVideoInput) {
                            const resolutionMultiplier = Math.max(1, 1 + Math.floor((activeVideoInput.videoWidth + activeVideoInput.videoHeight - 2500) / 1000) * 0.5);
                            neededCredits = Math.floor(Math.max(1, videoDurationTotalFrames / creditPerTotalFrames) * resolutionMultiplier * removeBannerStateMultiplier);
                        } else if (activePhotoInput) {
                            neededCredits = removeBannerStateMultiplier;
                        }

                        neededCredits = Math.max(1, neededCredits);

                        const pixelBoosters = [
                            document.getElementById('pixelBoost256x256'),
                            document.getElementById('pixelBoost512x512'),
                            document.getElementById('pixelBoost1024x1024')
                        ];

                        let enabledPixelBoost = getSelectedInputId(pixelBoosters);
                        if (enabledPixelBoost)
                            enabledPixelBoost = enabledPixelBoost.match(/\d+x\d+/)[0];

                        if (!enabledPixelBoost)
                            enabledPixelBoost = '128x128';

                        async function getServerAddresses() {
                            try {
                                const snapshotPromise = getDocsSnapshot('servers');
                                const keepSlowServers = true;

                                return await fetchServerAddresses(snapshotPromise, keepSlowServers);
                            } catch (error) {
                                showNotification(`Failed to get server addresses.`, 'Warning', 'warning');
                                return null;
                            }
                        }

                        let userInternetProtocol, userUniqueBrowserId, serverAddresses;

                        const timeoutDuration = 15000;
                        let remainingTime = timeoutDuration / 1000;

                        const countdownInterval = setInterval(() => {
                            setClientStatus(`Creating ID... ${remainingTime}`);
                            remainingTime--;
                        }, 1000);

                        const timeout = new Promise((_, reject) =>
                            setTimeout(() => reject(new Error('Process took longer than 15 seconds.')), timeoutDuration)
                        );

                        try {
                            setClientStatus('Creating ID...');
                            showNotification("Creating ID's...", 'Process - Information', 'information');

                            [userInternetProtocol, userUniqueBrowserId, serverAddresses] = await Promise.race([
                                Promise.all([
                                    getUserInternetProtocol(),
                                    ensureUniqueId(),
                                    getServerAddresses()
                                ]),
                                timeout
                            ]);
                        } catch (error) {
                            showNotification(
                                `Failed to create IDs. Consider disabling extensions or Adblockers. ${error.message}`,
                                'Warning',
                                'warning'
                            );
                            return;
                        } finally {
                            clearInterval(countdownInterval);
                        }

                        const proxyNotifications = {
                            isTOR: {
                                message: "TOR users restricted due to multi-accounting concerns. Disable TOR to avoid issues.",
                                title: 'Warning - Proxy',
                                type: 'warning-important'
                            },
                            isVPN: {
                                message: "Using a VPN may cause errors, slow processes, and affect downloads. Consider disabling your VPN for improved performance.",
                                title: 'Warning - VPN',
                                type: 'warning-important'
                            },
                            isProxy: {
                                message: "Using a proxy may cause errors, slow processes, and affect downloads. Consider disabling your proxy for better performance.",
                                title: 'Warning - Proxy',
                                type: 'warning-important'
                            }
                        };

                        for (const [key, { message, title, type }] of Object.entries(proxyNotifications)) {
                            if (userInternetProtocol[key]) {
                                showNotification(message, title, type);
                            }
                        }

                        /*serverAddresses = [
                            // Index 4
                            "https://4090-S-4-DF.deepany.ai",
                            "https://4090-D-4-DF.deepany.ai",
                            "https://4090-4-DF.deepany.ai",

                            "https://4080-S-4-DF.deepany.ai",
                            "https://4080-D-4-DF.deepany.ai",
                            "https://4080-4-DF.deepany.ai",

                            "https://3090-S-4-DF.deepany.ai",
                            "https://3090-D-4-DF.deepany.ai",
                            "https://3090-4-DF.deepany.ai",

                            "https://3080-S-4-DF.deepany.ai",
                            "https://3080-D-4-DF.deepany.ai",
                            "https://3080-4-DF.deepany.ai",

                            // Index 3
                            "https://4090-S-3-DF.deepany.ai",
                            "https://4090-D-3-DF.deepany.ai",
                            "https://4090-3-DF.deepany.ai",

                            "https://4080-S-3-DF.deepany.ai",
                            "https://4080-D-3-DF.deepany.ai",
                            "https://4080-3-DF.deepany.ai",

                            "https://3090-S-3-DF.deepany.ai",
                            "https://3090-D-3-DF.deepany.ai",
                            "https://3090-3-DF.deepany.ai",

                            "https://3080-S-3-DF.deepany.ai",
                            "https://3080-D-3-DF.deepany.ai",
                            "https://3080-3-DF.deepany.ai",

                            // Index 2
                            "https://4090-S-2-DF.deepany.ai",
                            "https://4090-D-2-DF.deepany.ai",
                            "https://4090-2-DF.deepany.ai",

                            "https://4080-S-2-DF.deepany.ai",
                            "https://4080-D-2-DF.deepany.ai",
                            "https://4080-2-DF.deepany.ai",

                            "https://3090-S-2-DF.deepany.ai",
                            "https://3090-D-2-DF.deepany.ai",
                            "https://3090-2-DF.deepany.ai",

                            "https://3080-S-2-DF.deepany.ai",
                            "https://3080-D-2-DF.deepany.ai",
                            "https://3080-2-DF.deepany.ai",

                            // Index 1
                            "https://4090-S-1-DF.deepany.ai",
                            "https://4090-D-1-DF.deepany.ai",
                            "https://4090-1-DF.deepany.ai",

                            "https://4080-S-1-DF.deepany.ai",
                            "https://4080-D-1-DF.deepany.ai",
                            "https://4080-1-DF.deepany.ai",

                            "https://3090-S-1-DF.deepany.ai",
                            "https://3090-D-1-DF.deepany.ai",
                            "https://3090-1-DF.deepany.ai",

                            "https://3080-S-1-DF.deepany.ai",
                            "https://3080-D-1-DF.deepany.ai",
                            "https://3080-1-DF.deepany.ai",

                            "https://3050-S-1-DF.deepany.ai",
                            "https://3050-D-1-DF.deepany.ai",
                            "https://3050-1-DF.deepany.ai"
                        ];*/

                        const suffixOrder = ["s", "d", "f", "g", "h", "j", "k", "l"];
                        const serverId = serverID().toLowerCase();

                        const parsedServers = serverAddresses.map(addr => {
                            const regex = new RegExp(`https:\/\/([^/]+)-(\\d+)-${serverId}\\.deepany\\.ai`, "i");
                            const match = addr.match(regex);
                            if (!match) {
                                return { addr, major: 0, minor: 0, index: Infinity, suffix: "" };
                            }
                            const [, model, indexStr] = match;
                            const index = parseInt(indexStr, 10);
                            const parts = model.split('-');
                            const gpuNumber = parseInt(parts[0], 10);
                            const suffix = parts[1] ? parts[1].toLowerCase() : "";

                            const major = Math.floor(gpuNumber / 100);
                            const minor = gpuNumber % 100;

                            return { addr, major, minor, index, suffix };
                        });

                        function getSuffixRank(s) {
                            if (!s) return -1;
                            const pos = suffixOrder.indexOf(s);
                            return pos === -1 ? -1 : (suffixOrder.length - pos);
                        }

                        parsedServers.sort((a, b) => {
                            if (a.index !== b.index) return a.index - b.index;
                            if (a.major !== b.major) return b.major - a.major;
                            if (a.minor !== b.minor) return b.minor - a.minor;
                            return getSuffixRank(b.suffix) - getSuffixRank(a.suffix);
                        });

                        let sortedServerAddresses = parsedServers.map(p => p.addr.toLowerCase());
                        let serverQueueResults = await Promise.all(
                            sortedServerAddresses.map(server => checkServerQueue(server))
                        );

                        //serverQueueResults = [1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1];
                        //neededCredits = 5;
                        //videoDurationTotalFrames = 5;

                        function getGroupKey(addr) {
                            const match = addr.match(/https:\/\/(\d+)(?:-([a-z]+))?-/i);
                            if (!match) return '';
                            const gpu = match[1];
                            const suffix = match[2] ? match[2].toLowerCase() : "";
                            return suffix ? `${gpu}-${suffix}` : gpu;
                        }

                        const groupAggregates = {};
                        const isolatedServers = new Set([
                            "https://4090-4-df.deepany.ai",
                            "https://3050-1-df.deepany.ai"
                        ].map(s => s.toLowerCase()));

                        sortedServerAddresses.forEach((server, i) => {
                            if (isolatedServers.has(server)) return;

                            const key = getGroupKey(server);
                            if (!groupAggregates[key]) groupAggregates[key] = 0;
                            if (serverQueueResults[i])
                                groupAggregates[key] += 1;
                        });

                        function effectiveQueue(server) {
                            const key = getGroupKey(server);
                            const groupQ = (groupAggregates[key] || 0) - (isolatedServers.has(server) ? 0.0001 : 0);
                            return groupQ;
                        }

                        const adjustQueue = (server) => {
                            let effQ = serverQueueResults[sortedServerAddresses.indexOf(server)] + (effectiveQueue(server) / 2);

                            if ((neededCredits > 0 && neededCredits < 10) || videoDurationTotalFrames < 500) {
                                const queue3050 = effQ;
                                if (server === "https://3050-1-df.deepany.ai") {
                                    //console.log(`0 + ${server}` + " | " + `${serverQueueResults[sortedServerAddresses.indexOf(server)]}` + " | " + `${queue3050}`);
                                    return effQ + (activeVideoInput ? 2 : 0) + 1;
                                }

                                const queue4090 = effQ;
                                if (server === "https://4090-4-df.deepany.ai") {
                                    //console.log(`0 + ${server}` + " | " + `${serverQueueResults[sortedServerAddresses.indexOf(server)]}` + " | " + `${queue4090}`);
                                    return queue4090;
                                }

                                const queue = effQ;
                                //console.log(`0 + ${server}` + " | " + `${serverQueueResults[sortedServerAddresses.indexOf(server)]}` + " | " + `${queue}`);
                                return queue;
                            }

                            if (isolatedServers.has(server))
                                return Infinity;

                            //console.log(`1 + ${server}` + " | " + `${serverQueueResults[sortedServerAddresses.indexOf(server)]}` + " | " + `${effQ}`);
                            return isolatedServers.has(server) ? Infinity : effQ;
                        };

                        const adjustedQueues = sortedServerAddresses.map(server => adjustQueue(server));

                        const minQueueIndex = adjustedQueues.reduce((minIndex, queue, id, arr) =>
                            queue < arr[minIndex] ? id : minIndex,
                            0
                        );

                        if (adjustedQueues[minQueueIndex] === Infinity) {
                            startProcessBtn.disabled = false;
                            setClientStatus("Offline");
                            showNotification(
                                `Cannot fetch the server. A VPN could cause this or our server is currently offline. Contact an admin for more information.`,
                                "Warning - Process Failed",
                                "warning-important"
                            );
                            return;
                        }

                        setFetchableServerAdresses([sortedServerAddresses[minQueueIndex]]);
                        const serverAddress = getFetchableServerAdresses()[0]; // getFetchableServerAdresses()[0]
                        //console.log(serverAddress);
                        setFetchableServerAdresses([serverAddress]);
                        setClientStatus(`Connecting`);
                        showNotification(`Connecting to ${serverAddress}...`, "Process - Information", "information");
                        //return;

                        const extension = activeVideoInput ? 'mp4' : 'png';
                        const timestamp = activeVideoInput?.getAttribute('timestamp') || activePhotoInput?.getAttribute('timestamp');
                        const id = activeVideoInput?.getAttribute('id') || activePhotoInput?.getAttribute('id');

                        if (!timestamp || !id) {
                            setClientStatus(`Timestamp or id is missing.`);
                            showNotification(`Timestamp or id is missing. Cannot create input file name. Please contact an administrator.`, 'Warning - Process Failed', 'warning-important');
                            return;
                        }

                        const userName = userDoc.username.replace(/[^a-zA-Z0-9_]/g, '');
                        const fileType = activeVideoInput ? 'video/mp4' : 'image/png';
                        const inputFileName = `${userName}_${neededCredits}_${timestamp}_${id}_${activeVideoInput ? 0 : 1}.${extension}`;
                        const videoSource = activeVideoInput ? activeVideoInput.querySelector('source')?.src : activePhotoInput?.src;
                        const inputFile = await processBlobToFile(videoSource, inputFileName);
                        const faceFile = modelSelection === null ? await processBlobToFile(activePhoto.src, 'image.png') : new File([new Uint8Array(0)], 'empty.png', { type: 'image/png' });
                        const fileOutputId = `${Math.random().toString(36).substring(2, 15)}_${userName}_${neededCredits}_${timestamp}_${id}_${activeVideoInput ? 0 : 1}`;

                        if (!inputFile || !faceFile) {
                            startProcessBtn.disabled = false;
                            setClientStatus(`Blob to file failed`);
                            showNotification(`Failed to create files.`, 'Warning - Process Failed', 'warning-important');
                            return;
                        }

                        const MAX_FILE_SIZE_MB = 2000;
                        const MAX_FILE_SIZE_BYTES = MAX_FILE_SIZE_MB * 1024 * 1024;

                        if ((faceFile.size + inputFile.size) > MAX_FILE_SIZE_BYTES) {
                            startProcessBtn.disabled = false;
                            setClientStatus(`Size exceeds ${MAX_FILE_SIZE_MB}MB limit`);
                            showNotification(`Size exceeds ${MAX_FILE_SIZE_MB}MB limit`, 'Process - Information', 'warning-important');
                            return;
                        }

                        let width = 0;
                        let height = 0;

                        if (activeVideoInput) {
                            activeVideoInput.addEventListener('loadedmetadata', function () {
                                width = activeVideoInput.videoWidth;
                                height = activeVideoInput.videoHeight;
                            });

                            if (activeVideoInput.readyState >= 1) {
                                width = activeVideoInput.videoWidth;
                                height = activeVideoInput.videoHeight;
                            }
                        } else if (activePhotoInput) {
                            const img = activePhotoInput;

                            img.onload = function () {
                                width = img.naturalWidth;
                                height = img.naturalHeight;
                            };

                            if (img.complete) {
                                img.onload();
                            }
                        }

                        const maxPixelCount = 1600 * 900;
                        const midPixelCount = 854 * 480;
                        const lowPixelCount = 426 * 240;

                        const calculateEnhancerBlendValue = () => {
                            const pixelCount = height * width;

                            if (pixelCount >= maxPixelCount) {
                                return 100;
                            }

                            if (pixelCount >= midPixelCount) {
                                return Math.round(
                                    50 + (50 * (pixelCount - midPixelCount)) / (maxPixelCount - midPixelCount)
                                );
                            }

                            if (pixelCount >= lowPixelCount) {
                                return Math.round(
                                    25 + (25 * (pixelCount - lowPixelCount)) / (midPixelCount - lowPixelCount)
                                );
                            }

                            return Math.round((25 * pixelCount) / lowPixelCount);
                        };

                        let enableEnhancer = false;
                        let enabledEnhancer = '';
                        let enhancerBlendValue = calculateEnhancerBlendValue();
                        if (enhancerBlendValue > 100 / 4) {
                            const enhancerOptions = ['smooth_face_enhancer', 'natural_face_enhancer_512', 'natural_face_enhancer_1024', 'natural_face_enhancer_2048'];
                            enabledEnhancer = enhancerOptions.find(id => {
                                const element = document.getElementById(id);
                                return element && element.checked;
                            });

                            enableEnhancer = enabledEnhancer ? document.getElementById(enabledEnhancer).checked : false;
                        } else enhancerBlendValue = 0;

                        if (enhancerBlendValue > 0 && enabledEnhancer !== 'smooth_face_enhancer')
                            enhancerBlendValue *= 1.5;

                        enhancerBlendValue = clamp(enhancerBlendValue, 0, 100);

                        const genderOptions = ['female', 'male'];
                        const faceAnalyserGender = genderOptions.find(id => {
                            const element = document.getElementById(id);
                            return element && element.checked ? id : null;
                        });

                        const MB = 1024 * 1024;
                        const chunkSize = 50 * MB;
                        const totalSize = inputFile.size;
                        const maxChunkNumber = Math.ceil(totalSize / chunkSize);
                        const uploadedSizes = new Array(maxChunkNumber).fill(0);

                        showNotification(`Uploading chunks...`, 'Upload', 'information');

                        let uploadedChunks = new Set(await fetchUploadedChunks(serverAddress, inputFile.name));

                        for (let chunkNumber = 0; chunkNumber < maxChunkNumber; chunkNumber++) {
                            if (uploadedChunks.has(chunkNumber.toString())) {
                                continue;
                            }

                            const start = chunkNumber * chunkSize;
                            const end = Math.min(start + chunkSize, totalSize);

                            const formData = new FormData();
                            const chunk = inputFile.slice(start, end);
                            formData.append('videoChunk', chunk, `${inputFile.name}.part${chunkNumber}`);
                            formData.append('fileType', fileType);

                            await customFetch(`${serverAddress}/upload-chunk`, {
                                method: 'POST',
                                body: formData,
                            }, (progress) => {
                                const chunkUploadedSize = (progress / 100) * chunk.size;
                                uploadedSizes[chunkNumber] = chunkUploadedSize;
                                const uploadedSize = uploadedSizes.reduce((total, size) => total + size, 0);
                                const overallProgress = (uploadedSize / totalSize) * 100;
                                setClientStatus(`Upload (${chunkNumber + 1}/${maxChunkNumber}): ${overallProgress.toFixed(0)}%`);
                            });
                        }

                        //uploadedChunks = new Set(await fetchUploadedChunks(serverAddress, inputFile.name));
                        //if (Math.abs(uploadedChunks.size - maxChunkNumber) <= 1)
                        {
                            setClientStatus("All chunks uploaded successfully.");
                            showNotification(`All chunks uploaded successfully.`, 'Upload Completed', 'information');

                            async function checkFileExistsWithRetries(serverAddress, inputFile, maxRetries = 3, delay = 1000) {
                                for (let attempt = 1; attempt <= maxRetries; attempt++) {
                                    try {
                                        const response = await fetchWithRandom(`${serverAddress}/check-file-exists`, {
                                            method: 'POST',
                                            headers: { 'Content-Type': 'application/json' },
                                            body: JSON.stringify({ fileName: inputFile.name, expectedSize: inputFile.size })
                                        });

                                        const result = await response.json();
                                        if (result.exists && !result.isCorrupt) {
                                            return { exists: true, isCorrupt: false };
                                        } else if (result.isCorrupt) {
                                            setClientStatus("File corruption. Resuming...");
                                            showNotification("File verification: File could be corrupt. Resuming...", 'Warning - Upload Failed', 'warning-important');
                                            return { exists: true, isCorrupt: true };
                                        } else {
                                            setClientStatus("File Not Found");
                                            showNotification("File verification: File does not exist. Please refresh the page or try re-uploading by removing input and adding it back.", 'Warning - Upload Failed', 'warning-important');
                                            return { exists: false };
                                        }
                                    } catch (error) {
                                        console.warn(`Attempt ${attempt} failed. Retrying...`, error);
                                        if (attempt < maxRetries) {
                                            await new Promise(resolve => setTimeout(resolve, delay));
                                        } else {
                                            setClientStatus("Failed");
                                            showNotification("File verification failed after multiple attempts. Please try again.", 'Error', 'error');
                                            return { exists: false };
                                        }
                                    }
                                }
                            }

                            const result = await checkFileExistsWithRetries(serverAddress, inputFile);
                            if (!result.exists /*|| result.isCorrupt*/) {
                                setClientStatus("Upload Not Found");
                                showNotification(`Uploaded file not found in the server database.`, 'Upload Not Found', 'warning');
                                return;
                            }
                        } /*else {
                                                    setClientStatus("Upload failed");
                                                    showNotification(`File verification: Failed, please try again. Uploaded Chunks: ${uploadedChunks.size}, Needed Chunks: ${maxChunkNumber}`, 'Warning - Upload Failed', 'warning-important');
                                                    return;
                                                }*/

                        const referencePosition = localStorage.getItem(`${timestamp}_${id}_position`) || null;
                        const referenceRace = localStorage.getItem(`${timestamp}_${id}_race`) || null;
                        const referenceGender = localStorage.getItem(`${timestamp}_${id}_gender`) || null;
                        const trackFace = localStorage.getItem(`${timestamp}_${id}_track`) || null;
                        const referenceFrame = activeVideoInput ? (localStorage.getItem(`${timestamp}_${id}_frame`) || null) : null;
                        const calculatedFrame = activeVideoInput ? (Math.floor(referenceFrame * calculatedFrameRate) || 0) : null;

                        const formData = new FormData();
                        formData.append('face', faceFile);
                        formData.append('inputFileName', inputFile.name);
                        formData.append('userId', userData.uid);
                        formData.append('modelSelection', modelSelection);
                        formData.append('userInternetProtocolAddress', userInternetProtocol.userInternetProtocolAddress);
                        formData.append('userUniqueInternetProtocolId', userInternetProtocol.userUniqueInternetProtocolId);
                        formData.append('referencePosition', referencePosition);
                        formData.append('referenceRace', referenceRace);
                        formData.append('referenceGender', referenceGender);
                        formData.append('trackFace', trackFace);
                        formData.append('referenceFrame', calculatedFrame);
                        formData.append('fileOutputId', fileOutputId);
                        formData.append('userUniqueBrowserId', userUniqueBrowserId);
                        formData.append('enableBox', true);
                        formData.append('enableOccluder', document.getElementById("enableOccluder").checked);
                        formData.append('enableEnhancer', enableEnhancer);
                        formData.append('enabledEnhancer', enabledEnhancer);
                        formData.append('enhancerBlendValue', parseInt(document.getElementById('enhancerBlendValue').value) < 25 ? parseInt(enhancerBlendValue) : parseInt(document.getElementById('enhancerBlendValue').value));
                        formData.append('enabledPixelBoost', enabledPixelBoost);
                        formData.append('removeBanner', removeBanner.checked);
                        formData.append('skipFaceSwap', false);
                        formData.append('keepFPS', document.getElementById("keepFPS").checked);
                        formData.append('fpsValue', document.getElementById("fps-slider").value);
                        formData.append('ageModifier', Math.abs(document.getElementById("age-modifier").value) <= 5 ? null : document.getElementById("ageModifier").checked);
                        formData.append('ageModifierValue', Math.abs(document.getElementById("age-modifier").value) <= 5 ? null : parseInt(document.getElementById("age-modifier").value));
                        formData.append('skin', document.getElementById("skin").checked);
                        formData.append('eyebrow', document.getElementById("eyebrow").checked);
                        formData.append('eye', document.getElementById("eye").checked);
                        formData.append('glasses', document.getElementById("glasses").checked);
                        formData.append('nose', document.getElementById("nose").checked);
                        formData.append('mouth', document.getElementById("mouth").checked);
                        formData.append('lip', document.getElementById("lip").checked);
                        formData.append('frontalRotation', document.getElementById("frontalRotation").checked);
                        formData.append('rightRotation', document.getElementById("rightRotation").checked);
                        formData.append('invertedRotation', document.getElementById("invertedRotation").checked);
                        formData.append('leftRotation', document.getElementById("leftRotation").checked);
                        formData.append('faceAnalyserAge', 'none');
                        formData.append('faceAnalyserGender', faceAnalyserGender);
                        formData.append('faceAnalyserOrder', 'none');
                        formData.append('enableEnhancedLandmarks', document.getElementById("enableEnhancedLandmarks").checked);
                        formData.append('enableEnhancedAnalyzer', document.getElementById("enableEnhancedAnalyzer").checked);
                        formData.append('imageSize', 'none');
                        formData.append('imageModel', 'none');

                        //for (const [key, value] of formData.entries()) {
                        //console.log(`${key}: ${value}`);
                        //}

                        showNotification(`Sending your configuration to the server...`, 'Upload', 'information');
                        setClientStatus('Configurating...');

                        const response = await fetchWithRandom(`${serverAddress}/start-process`, {
                            method: 'POST',
                            body: formData
                        });

                        if (response.status !== STATUS_OK) {
                            const data = await response.json();
                            throw new Error(data.server);
                        }

                        const result = await response.json();
                        showNotification(`Creating output database using IndexedDB...`, 'Database - IndexedDB', 'information');

                        const db = await openDB(`outputDB-${pageName}`, 'outputs');
                        const url = serverAddress + '/download-output/' + fileOutputId;
                        const firstChild = outputs.firstChild;

                        if (firstChild && !firstChild.dataset.created) {
                            firstChild.dataset.created = true;
                            firstChild.innerHTML = `<div class="process-text">Indexing</div>`;

                            await addToDB(db, [null, url]);
                            await saveCountIndex(databases);

                            const data = await getFromDB(db);
                            const entry = data.find(item => item.url === url);
                            firstChild.innerHTML = `<initial url="${entry.url}" id="${entry.id}" timestamp="${entry.timestamp}" processing></initial><div class="process-text">Indexing</div><div class="delete-icon"></div>`;
                        }

                        showNotification(`Starting the process...`, 'Upload', 'information');
                        setClientStatus('Starting...');
                        updateDownloadFile(true, databases, userData.uid);
                        return result;
                    } catch (error) {
                        startProcessBtn.disabled = false;
                        setClientStatus(error.message);
                        cancelProcess(false);
                    }
                }

                startProcessBtn.addEventListener('click', async () => {
                    await startProcess();
                });

                const cancelProcessBtn = document.getElementById('cancelProcessBtn');
                cancelProcessBtn.addEventListener('click', async () => {
                    await cancelProcess(true);
                });

                const downloadOutput = document.getElementById('downloadOutput');
                if (downloadOutput) {
                    const activeDataContainer = document.querySelector(".outputs .data-container.active");
                    if (!activeDataContainer) {
                        downloadOutput.disabled = true;
                        //showNotification(`Maintaince for IOS downloads (Not important if you are not IOS).`, 'Warning - Download', 'warning');
                    }

                    downloadOutput.addEventListener('click', async () => {
                        const activeDataContainer = document.querySelector(".outputs .data-container.active");
                        if (!activeDataContainer) {
                            showNotification(`No active output container selected.`, 'Warning - Download', 'warning');
                            return;
                        }

                        const activeInput = activeDataContainer.querySelector('img, video, initial');
                        if (!activeInput) {
                            showNotification(`No active input element found.`, 'Warning - Download', 'warning');
                            return;
                        }

                        if (downloadOutput.textContent === "Pause") {
                            const abortController = getAbortController();
                            if (abortController) {
                                abortController.abort();
                                resetAbortController();
                                setDownloadCancelled(true);
                                showNotification(`Download paused successfully.`, 'Download - Paused', 'info');
                            } else {
                                showNotification(`No active download to pause.`, 'Warning - Pause', 'warning');
                            }

                            downloadOutput.textContent = "Resume";
                            downloadOutput.classList.add("important");
                            return;
                        }

                        if (downloadOutput.textContent === "Resume") {
                            const selectedOutputInfo = {
                                db: await openDB(`outputDB-${pageName}`, 'outputs'),
                                url: activeInput.getAttribute('url'),
                                timestamp: parseInt(activeInput.getAttribute('timestamp')),
                                element: activeInput.parentElement,
                                id: parseInt(activeInput.getAttribute('id')),
                                active: activeInput.getAttribute('active'),
                            };

                            showNotification(`Resuming download for output ID: ${selectedOutputInfo.id}.`, 'Download - Resuming', 'info');
                            return await handleDownload(selectedOutputInfo);
                        }

                        if (activeInput) {
                            const id = activeInput.getAttribute('id');
                            const fileName = 'output_' + `${id}.${activeInput.tagName === 'VIDEO' ? 'mp4' : 'png'}`;

                            const domIndex = parseInt(activeInput.getAttribute('id'));
                            const db = await openDB(`outputDB-${pageName}`, 'outputs');
                            const items = await getFromDB(db);
                            const item = items.find(item => item.id === domIndex);
                            if (!item || !item.blob) {
                                throw new Error(`No blob found for ID: ${domIndex}`);
                            }

                            let type = '';
                            if (activeInput) {
                                if (activeInput.tagName === 'IMG') {
                                    type = 'image/png';
                                } else if (activeInput.tagName === 'VIDEO') {
                                    type = 'video/mp4';
                                } else {
                                    showNotification('Error: Unsupported element type for download.', 'Error - Download', 'error');
                                    return;
                                }
                            }
                            let methodUsed = 0;
                            try {
                                if (window.showSaveFilePicker) {
                                    methodUsed = 1;
                                    showNotification('Attempting to use showSaveFilePicker...', 'Download - Info', 'info');

                                    const fileHandle = await window.showSaveFilePicker({
                                        suggestedName: fileName,
                                        types: [
                                            { description: 'Video Files', accept: { 'video/mp4': ['.mp4'], 'video/webm': ['.webm'] } },
                                            { description: 'Image Files', accept: { 'image/png': ['.png'], 'image/jpeg': ['.jpg'] } },
                                        ],
                                    });

                                    const writableStream = await fileHandle.createWritable();
                                    await writableStream.write(item.blob);
                                    await writableStream.close();
                                    showNotification(`File saved successfully: ${fileName}`, 'Download - Success', 'success');
                                } else if (navigator.share) {
                                    methodUsed = 2;
                                    showNotification('Attempting to use navigator.share...', 'Download - Info', 'info');

                                    const fileToShare = new File([item.blob], fileName, { type });
                                    await navigator.share({ title: fileName, files: [fileToShare] });
                                    showNotification(`File shared successfully: ${fileName}`, 'Download - Shared', 'success');
                                } else {
                                    methodUsed = 3;
                                    showNotification('Attempting to use <a> tag for download...', 'Download - Info', 'info');

                                    const objectURL = URL.createObjectURL(item.blob);
                                    const a = document.createElement('a');
                                    a.href = objectURL;
                                    a.download = fileName;
                                    document.body.appendChild(a);
                                    a.click();
                                    document.body.removeChild(a);
                                    URL.revokeObjectURL(objectURL);
                                    showNotification(`File downloaded successfully: ${fileName}`, 'Download - Success', 'success');
                                }
                            } catch (error) {
                                if (error.name === 'AbortError') {
                                    showNotification(`Download was aborted for: ${fileName}`, 'Error - Aborted', 'error');
                                    return;
                                }

                                showNotification(`First method failed (Error: ${error.message} - Method: ${methodUsed}), retrying in 1000ms for file: ${fileName}...`, 'Error - Download', 'error');
                                setTimeout(() => {
                                    const objectURL = URL.createObjectURL(item.blob);
                                    const a = document.createElement('a');
                                    a.href = objectURL;
                                    a.download = fileName;

                                    if (!iosMobileCheck()) {  // Only execute this on non-iOS devices
                                        try {
                                            document.body.appendChild(a);
                                            a.click();
                                            document.body.removeChild(a);
                                            URL.revokeObjectURL(objectURL);
                                            showNotification(`File downloaded successfully: ${fileName}`, 'Download - Success', 'success');
                                        } catch (error) {
                                            showNotification(`Failed to download the file (Error: ${error.message})`, 'Error - Download', 'error');
                                        }
                                    } else {
                                        showNotification(`Skipping download method for iOS devices: ${fileName}`, 'Download - Info', 'info');
                                        try {
                                            const newTab = window.open(objectURL, '_blank');
                                            if (!newTab) {
                                                showNotification(`Failed to open the file in a new tab for: ${fileName}`, 'Error - Open Tab', 'error');
                                            } else {
                                                setTimeout(() => {
                                                    URL.revokeObjectURL(objectURL);
                                                }, 1000);
                                            }
                                        } catch (tabError) {
                                            showNotification(`Failed to open in a new tab (Error: ${tabError.message})`, 'Error - Tab Open', 'error');
                                        }
                                    }
                                }, 1000);
                            }
                        } else {
                            showNotification(`No output is selected.`, 'Warning - Download', 'warning');
                        }
                    });
                }

                const viewOutput = document.getElementById('viewOutput');
                if (viewOutput) {
                    const activeDataContainer = document.querySelector(".outputs .data-container.active");
                    if (!activeDataContainer) viewOutput.disabled = true;

                    viewOutput.addEventListener('click', async () => {
                        const activeDataContainer = document.querySelector(".outputs .data-container.active");
                        const activeInput = activeDataContainer.querySelector('img, video, initial');

                        if (activeInput) {
                            if (viewOutput.textContent === 'Fetch') {
                                const abortController = getAbortController();
                                if (abortController) {
                                    abortController.abort();
                                    resetAbortController();
                                    downloadOutput.textContent = "Resume";
                                    setDownloadCancelled(true);
                                }

                                return window.open(activeInput.getAttribute('url'), '_blank');
                            }

                            if (activeInput.tagName === 'INITIAL') {
                                alert('Initial element cannot be viewed.');
                                return;
                            }

                            const existingWrapper = document.getElementById('wrapper');
                            if (existingWrapper) return;

                            const wrapper = document.createElement('div');
                            wrapper.id = 'wrapper';

                            const backgroundContainer = document.createElement('div');
                            backgroundContainer.className = 'background-container';

                            const backgroundDotContainer = document.createElement('a');
                            backgroundDotContainer.className = 'background-dot-container';

                            const backgroundDotContent = document.createElement('div');
                            backgroundDotContent.className = 'background-dot-container-content';
                            backgroundDotContent.style.padding = '0';

                            const innerContainer = document.createElement('div');
                            innerContainer.className = 'background-container';
                            innerContainer.style.display = 'contents';
                            innerContainer.id = 'innerContainer';

                            let mediaElement;

                            if (activeInput.tagName === 'VIDEO') {
                                mediaElement = document.createElement('video');
                                mediaElement.controls = true;
                                mediaElement.loop = true;
                                mediaElement.src = activeInput.querySelector('source').src;
                                mediaElement.style.maxWidth = '100vw';
                                mediaElement.style.maxHeight = '94vh';
                                mediaElement.style.borderRadius = 'var(--border-radius)';
                                mediaElement.style.objectFit = 'cover';
                            } else if (activeInput.tagName === 'IMG') {
                                mediaElement = document.createElement('img');
                                mediaElement.src = activeInput.src;
                                mediaElement.style.maxWidth = '100vw';
                                mediaElement.style.maxHeight = '94vh';
                                mediaElement.style.borderRadius = 'var(--border-radius)';
                                mediaElement.style.objectFit = 'cover';
                            }

                            if (!mediaElement.src) {
                                wrapper.remove();
                                alert('Media source not found.');
                                return;
                            }

                            // Close Button
                            const closeButton = document.createElement('button');
                            closeButton.className = 'close-button';
                            closeButton.style.position = 'absolute';
                            closeButton.style.top = '1vh';
                            closeButton.style.right = '1vh';
                            closeButton.style.cursor = 'pointer';
                            closeButton.style.width = '4vh';
                            closeButton.style.height = '4vh';
                            closeButton.style.padding = '0';
                            closeButton.style.margin = '0';

                            const closeButtonIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                            closeButtonIcon.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
                            closeButtonIcon.setAttribute('viewBox', '0 0 24 24');
                            closeButtonIcon.setAttribute('fill', 'none');
                            closeButtonIcon.setAttribute('stroke', 'currentColor');
                            closeButtonIcon.setAttribute('stroke-width', '2');
                            closeButtonIcon.setAttribute('stroke-linecap', 'round');
                            closeButtonIcon.setAttribute('stroke-linejoin', 'round');
                            closeButtonIcon.style.margin = '0';
                            closeButtonIcon.style.width = 'calc((3.5vh * var(--scale-factor-h)))';
                            closeButtonIcon.classList.add('lucide', 'lucide-x');

                            const path1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                            path1.setAttribute('d', 'M18 6 6 18');
                            const path2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                            path2.setAttribute('d', 'm6 6 12 12');

                            closeButtonIcon.appendChild(path1);
                            closeButtonIcon.appendChild(path2);

                            closeButton.appendChild(closeButtonIcon);
                            closeButton.addEventListener('click', () => {
                                wrapper.remove();
                            });

                            const reportButton = document.createElement('button');
                            reportButton.className = 'report-button';
                            reportButton.style.position = 'absolute';
                            reportButton.style.bottom = '1vh';
                            reportButton.style.right = '1vh';

                            reportButton.innerHTML = 'Report Content';
                            reportButton.addEventListener('click', () => {
                                showNotification(
                                    `Thank you for reporting inappropriate content. Our moderation team will review the report and take appropriate action.`,
                                    'Reported Content',
                                    'warning-important'
                                );
                                wrapper.remove();
                                const deleteIconParent = activeDataContainer.querySelector('.delete-icon');
                                if (deleteIconParent) {
                                    deleteIconParent.click();
                                }
                            });

                            innerContainer.appendChild(mediaElement);
                            innerContainer.appendChild(closeButton);
                            //innerContainer.appendChild(reportButton);

                            backgroundDotContent.appendChild(innerContainer);
                            backgroundDotContainer.appendChild(backgroundDotContent);
                            backgroundContainer.appendChild(backgroundDotContainer);
                            wrapper.appendChild(backgroundContainer);
                            document.body.appendChild(wrapper);
                        }
                    });
                }

                const clearOutputs = document.getElementById('clearOutputs');
                if (clearOutputs) {
                    const dbName = `outputDB-${pageName}`;
                    clearOutputs.addEventListener('click', () => {
                        if (!confirm("Are you sure you want to clear all output data? This action cannot be undone.")) {
                            return;
                        }

                        // Close all active connections first
                        const openRequest = indexedDB.open(dbName);
                        openRequest.onsuccess = async function (event) {
                            const db = event.target.result;
                            db.close();

                            const deleteRequest = indexedDB.deleteDatabase(dbName);
                            deleteRequest.onsuccess = function () {
                                location.reload(true);
                            };

                            deleteRequest.onerror = function (event) {
                                alert("Error clearing the output database: " + event.target.error);
                            };
                        };

                        openRequest.onerror = function (event) {
                            alert("Error opening the database: " + event.target.error);
                        };
                    });
                }

                updateFrameLimit(null);

                document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                    checkbox.addEventListener("change", () => {
                        updateFrameLimit(checkbox);
                    });
                });

                const inputSection = document.getElementById('inputSection');
                inputSection.style.gridTemplateColumns = '';
                inputSection.style.gridTemplateRows = '1fr auto';

                const faceSection = document.getElementById('faceSection');
                faceSection.style.gridTemplateColumns = '';
                faceSection.style.gridTemplateRows = '1fr auto';

                const outputSection = document.getElementById('outputSection');
                outputSection.style.gridTemplateColumns = '';
                outputSection.style.gridTemplateRows = '1fr auto';

                if (getScreenMode() !== ScreenMode.PC) {
                    const showServersContainer = document.getElementById('showServersContainer');
                    showServersContainer.style.display = 'unset';

                    const baseContainer = document.getElementById('baseContainer');
                    baseContainer.style.gridTemplateColumns = '';

                    const settingSection = document.getElementById('settingSection');
                    settingSection.style.flexDirection = 'column';

                    const secondBaseChild = document.getElementById('secondBaseChild');
                    secondBaseChild.style.height = 'auto';

                    const fourthBaseContainer = document.getElementById('fourthBaseContainer');
                    fourthBaseContainer.style.gridTemplateColumns = '';
                    fourthBaseContainer.style.gridTemplateRows = '1fr 1fr';

                    inputSection.style.gridTemplateColumns = '';
                    inputSection.style.gridTemplateRows = '4fr 1fr';

                    faceSection.style.gridTemplateColumns = '';
                    faceSection.style.gridTemplateRows = '4fr 1fr';

                    outputSection.style.gridTemplateColumns = '';
                    outputSection.style.gridTemplateRows = '4fr 1fr';

                    const processButtonSection = document.getElementById('processButtonSection');
                    processButtonSection.style.gap = 'calc(1vh* var(--scale-factor-h))';
                    processButtonSection.style.flexDirection = 'column';
                } else {
                    serverListContainer.style.display = 'none';
                }

                const modelSelection = document.getElementById('modelSelection');
                if (!modelSelection || !fourthBaseContainer) return;

                const checkedItem = modelSelection.querySelector('li.item.checked');
                if (checkedItem) {
                    document.body.classList.add('upload-hidden');
                    fourthBaseContainer.style.display = 'flex';
                    fourthBaseContainer.style.flexDirection = 'column';
                    faceSection.style.display = 'none';
                    showNotification(`The pre-trained model is active. Please do not select a model from the top of the page if you want to upload your own face images.`, "Model - Information", "information");
                } else {
                    fourthBaseContainer.style.display = 'grid';
                    fourthBaseContainer.style.flexDirection = '';
                    faceSection.style.display = 'grid';
                }

                modelSelection.addEventListener('change', function () {
                    const checkedItem = modelSelection.querySelector('li.item.checked');
                    if (checkedItem) {
                        document.body.classList.add('upload-hidden');
                        fourthBaseContainer.style.display = 'flex';
                        fourthBaseContainer.style.flexDirection = 'column';
                        faceSection.style.display = 'none';
                        showNotification(`The pre-trained model is active. Please do not select a model from the top of the page if you want to upload your own face images.`, "Model - Information", "information");
                    } else {
                        fourthBaseContainer.style.display = 'grid';
                        fourthBaseContainer.style.flexDirection = '';
                        faceSection.style.display = 'grid';
                    }
                });
            }

            let previousScreenMode = null;

            async function sizeBasedElements() {
                setMaxWidth();
                const screenMode = getScreenMode();
                const shouldUpdate = previousScreenMode !== screenMode;
                previousScreenMode = screenMode;
                if (!shouldUpdate)
                    return;

                loadPageState();
                loadPage();
            }

            sizeBasedElements();

            window.addEventListener('resize', sizeBasedElements);
        });
    </script>
<script src="scripts/autoTranslate.js"></script></body>
</html>
