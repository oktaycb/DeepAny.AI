<!DOCTYPE html>
<html lang="en" style="background: rgba(24, 24, 24, 1);" class="loading-screen">
<head>
    <title>Pricing: Variety Of Options Tailored To Your Needs</title>
    <link rel="canonical" href="https://deepany.ai/pricing">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Discover the best pricing plans for DeepAny.AI. Choose from a variety of options tailored to your needs, and get access to advanced AI tools and services at competitive rates.">
    <meta name="keywords" content="AI, DeepAny, bodyswap, technology, services, solutions">
    <meta name="apple-mobile-web-app-title" content="Pricing" />

    <style id="loading-stylesheet">
        .loading-screen {
            position: fixed;
            top: 50%;
            left: 50%;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #ff7300;
            border-radius: 50%;
            width: 50px !important;
            height: 50px !important;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }
    </style>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "AggregateOffer",
            "offerCount": "15",
            "lowPrice": "9.99",
            "highPrice": "1399.99",
            "priceCurrency": "USD",
            "offers": [
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "9.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "100 Credits"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "19.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "250 Credits"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "24.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "500 Credits"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "44.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "1000 Credits"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "99.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "2500 Credits"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "174.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "5000 Credits"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "299.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "10000 Credits"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "624.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "25000 Credits"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "999.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "50000 Credits"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "19.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "1 Day Subscription"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "69.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "7 Day Subscription"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "149.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "30 Day Subscription"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "269.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "90 Day Subscription"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "726.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "1 Year Subscription"
                },
                {
                    "@type": "Offer",
                    "priceCurrency": "USD",
                    "price": "1399.99",
                    "availability": "https://schema.org/InStock",
                    "url": "https://deepany.ai/face-swap",
                    "name": "Lifetime Subscription"
                }
            ]
        }
    </script>
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="stylesheet" href="css/styles.css?v=1.3.8.6">
    <link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-BFR70Q5VX1" as="script">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BFR70Q5VX1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        window.gtag = function () {
            window.dataLayer.push(arguments);
        };
        gtag('js', new Date());
        gtag('config', 'G-BFR70Q5VX1');
    </script>
</head>
<body lang="en">
    <div id="paymentContainer" style="margin: 0; padding: 0; overflow: hidden; display: none; width: 100%; height: 100vh; position: absolute; z-index: 99999;"></div>
    <script type="module" defer>
        const version = '1.3.8.6';

        async function loadModule(url) {
            return import(`${url}?v=${version}`);
        }

        document.addEventListener('DOMContentLoaded', async function () {
            const functions = await loadModule('./scripts/functions.js');
            const { getUserData, setCache, getCache, getPageName, setUser, setAuthentication, fetchConversionRates, getFirebaseModules, getDocSnapshot, getScreenMode, getCurrentMain, updateContent, createPages, setNavbar, setSidebar, showSidebar, removeSidebar, getSidebarActive, moveMains, setupMainSize, loadScrollingAndMain, showZoomIndicator, setScaleFactors, clamp, loadPageContent, retrieveImageFromURL, fetchServerAddress, ensureUniqueId, getUserInternetProtocol } = functions;

            const pageName = getPageName();

            function updateMainContent(screenMode, pageContent) {
                pageContent.length = 0;
                pageContent.push(`<div id="baseContainer" class="centered-container long">
                                                                                                <div style="display: flex;flex-direction: column; gap: calc(2vh* var(--scale-factor-h));">
                                                                                                                <div class="background-container">
                                                                                                                    <p class="background-dot-container-option selected" id="credits-mode">Credits</p>
                                                                                                                    <p class="background-dot-container-option" id="subscription-mode">Subscription</p>
                                                                                                                    <p class="background-dot-container-option not-available" id="renewal-mode">Renewal</p>
                                                                                                                </div>


                                                                                                                <div class="background-container">
                                                                                                                    <p class="background-dot-container-option selected" data-currency="USD" translate="no">$USD</p>
                                                                                                                    <p class="background-dot-container-option" data-currency="EUR" translate="no">€EUR</p>
                                                                                                                    <p class="background-dot-container-option" data-currency="GBP" translate="no">£GBP</p>
                                                                                                                    <p class="background-dot-container-option" data-currency="TRY" translate="no">₺TRY</p>
                                                                                                                    <p class="background-dot-container-option important-outline" data-currency="BTC" translate="no">COIN</p>
                                                                                                                </div>


                                                                                                    <div class="background-container" style="display: flex;flex-direction: column;align-items: stretch;height: 100%;">
                                                                                                        <div style="display: flex; gap: calc((1vh* var(--scale-factor-h) + 2vw / 2 * var(--scale-factor-w)));height: 100%;">
                                                                                                            <a class="background-dot-container">
                                                                                                                <div class="background-dot-container-content" style="min-width: calc((50vh* var(--scale-factor-h) + 50vw / 2 * var(--scale-factor-w)));">
                                                                                                                <div class="background-container" style="grid: unset; display: grid;grid-template-columns: 1fr 1fr;">
                                                                                                                    <input type="range" id="slider" min="1" max="9" step="1" value="1"></input>
                                                                                                                    <p class="slider-value">1 day</p>
                                                                                                                </div>
                                                                                                                        <div class="line"></div>
                                                                                                                        <div class="background-dot-container-header">
                                                                                                                          <p class="plans-name text-gradient" id="plan-name">Starter</p>
                                                                                                                          <div class="plans-popular" id="popular-tag">
                                                                                                                            <p class="plans-name text-gradient">Popular</p>
                                                                                                                          </div>
                                                                                                                        </div>
                                                                                                                    <div class="background-dot-container-price">
                                                                                                                        <h2 id="cost-per-day" translate="no">Loading...</h2>
                                                                                                                        <h4 id="cost-per-day-unit" style="opacity: 0.5;">/day</h4>
                                                                                                                    </div>
                                                                                                                    <div class="background-dot-container-link" id="purchase">Purchase</div>
                                                                                                                    <div>
                                                                                                                        <div class="line"></div>
                                                                                                                        <h4 id="discount-details">Loading...</h4>
                                                                                                                        <p class="discount-details" id="discount">Loading...</p>
                                                                                                                        <div class="line"></div>
                                                                                                                        <div style="display: flex;gap: 0.5vh;align-items: center;">
                                                                                                                            <p class="uppercase text-gradient">Privileges</p>
                                                                                                                        </div>
                                                                                                                        <div id="features-list"></div>
                                                                                                                        <div class="line"></div>
                                                                                                                        <div style="display: flex;gap: 0.5vh;align-items: center;">
                                                                                                                            <p class="uppercase text-gradient">Plan Capability</p>
                                                                                                                            <p id="toggle-description" class="text-gradient" style="cursor: pointer;">+</p>
                                                                                                                        </div>
                                                                                                                            <div style="display: grid;grid-template-columns: 1fr auto;align-items: center;gap: 1vh;">
                                                                                                                                <input type="range" id="fps-slider" min="15" max="60" step="1" value="30">
                                                                                                                                <p id="fps-value">30 FPS</p>
                                                                                                                            </div>
                                                                                                                        <ul id="capability-list" style="display: flow;background: transparent;"></ul>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </a>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        `);
            }

            loadPageContent(setUser, retrieveImageFromURL, getUserInternetProtocol, ensureUniqueId, fetchServerAddress, getFirebaseModules, getDocSnapshot, getScreenMode, getCurrentMain, updateContent, createPages, setNavbar, setSidebar, showSidebar, removeSidebar, getSidebarActive, moveMains, setupMainSize, loadScrollingAndMain, showZoomIndicator, setScaleFactors, clamp, setAuthentication, updateMainContent);

            let credits = [];
            let prices = [];
            let durationsInDays = [];
            let subprices = [];
            let discountedSubprices = []; // Added for the discounted prices
            let durations = [];
            let discount = 0;

            const snapshotPromise = getDocSnapshot('servers', '3050-1');
            const [serverAddressAPI, serverAddressPAYTR] = await Promise.all([
                fetchServerAddress(snapshotPromise, 'API'),
                fetchServerAddress(snapshotPromise, 'PAYTR')
            ]);

            async function getPricingData() {
                const cacheKey = 'pricingData';
                const cachedData = getCache(cacheKey);

                if (cachedData) {
                    setPricingData(cachedData);
                } else {
                    try {
                        const response = await fetch(`${serverAddressPAYTR}/get-pricing`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({})
                        });

                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }

                        const responseData = await response.json();
                        console.log('Response from server:', responseData);

                        setCache(cacheKey, responseData.data, 1 * 24 * 60 * 60 * 1000);
                        setPricingData(responseData.data);
                    } catch (error) {
                        alert('Error while calling the pricing endpoint: ' + error.message);
                    }
                }

                fetchPricingDataInBackground();
            }

            async function fetchPricingDataInBackground() {
                try {
                    const response = await fetch(`${serverAddressPAYTR}/get-pricing`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({})
                    });

                    if (response.ok) {
                        const responseData = await response.json();
                        setCache('pricingData', responseData.data, 5 * 60 * 1000);
                        setPricingData(responseData.data);
                    }
                } catch (error) {
                    alert('Error while refreshing the pricing data: ' + error.message);
                }
            }

            function setPricingData(data) {
                credits = data.credits || [];
                prices = data.prices || [];
                durationsInDays = data.durationsInDays || [];
                subprices = data.subprices || [];
                discountedSubprices = data.discountedSubprices || []; // Setting discounted prices
                durations = data.durations || [];
                discount = data.discount || 0;
            }

            await getPricingData();

            let conversionRates = await fetchConversionRates();

            window.addEventListener('beforeunload', () => {
                if (!conversionRates)
                    return;

                const slider = document.getElementById('slider');
                const state = {
                    selectedMode: document.querySelector('.background-dot-container-option.selected').id || '',
                    selectedCurrency: document.querySelector('.background-dot-container-option.selected[data-currency]')?.getAttribute('data-currency') || '',
                    sliderValue: slider.value,
                    sliderMax: slider.max,
                    costPerDay: document.getElementById('cost-per-day').innerText,
                    discountDetails: document.getElementById('discount-details').innerText,
                    discount: document.getElementById('discount').innerText,
                    toggleDescriptionText: document.getElementById('toggle-description').textContent,
                    fpsSlider: document.getElementById('fps-slider').value,
                    fpsValueDisplay: document.getElementById('fps-value').textContent,
                };

                localStorage.setItem('pageState', JSON.stringify(state));
            });

            const state = JSON.parse(localStorage.getItem('pageState') || '{}');

            if (state.selectedMode) {
                document.querySelectorAll('.background-dot-container-option').forEach(el => el.classList.remove('selected'));
                document.getElementById(state.selectedMode).classList.add('selected');
            }

            if (state.selectedCurrency) {
                document.querySelectorAll('.background-dot-container-option[data-currency]').forEach(el => el.classList.remove('selected'));
                document.querySelector(`[data-currency="${state.selectedCurrency}"]`).classList.add('selected');
            }

            const slider = document.getElementById('slider');
            if (slider) {
                slider.value = state.sliderValue || '1';
                slider.max = state.sliderMax || '9';
            }

            document.getElementById('cost-per-day').innerText = state.costPerDay || '';
            document.getElementById('discount-details').innerText = state.discountDetails || '';
            document.getElementById('discount').innerText = state.discount || '';
            document.getElementById('toggle-description').textContent = state.toggleDescriptionText || "+";
            document.getElementById('fps-slider').value = state.fpsSlider || 30;
            document.getElementById('fps-value').textContent = state.fpsValueDisplay || '30 FPS';

            const checkmarkIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"></path></svg>`;
            const xIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x plans_x__KKb0t"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>`;
            let SingleCreditForTotalFrameAmount = 150, creditPerTotalFrames = 120, FPS = 30, seconds = 60;
            const creditVideo = creditPerTotalFrames / SingleCreditForTotalFrameAmount;
            const creditPerInpaint = 2, creditPerArtGeneration = 1;

            let isShortDescription = document.getElementById('toggle-description').textContent === "+";

            function updateCapabilityList(price, currencySymbol, isSubscriptionMode = true, credits = 0) {
                const capabilityListElement = document.getElementById("capability-list");
                capabilityListElement.innerHTML = "";

                const getCapabilities = (shortDescription, price, currencySymbol) => {
                    const formatPrice = (price, multiplier, currencySymbol) => {
                        const hasTilde = price.includes('~');
                        const cleanedPrice = price
                            .replace(currencySymbol, '')
                            .replace(/,/g, '.')
                            .replace(/[^\d.]/g, '');

                        const numericalPart = parseFloat(cleanedPrice);
                        let formattedPrice = `${(numericalPart * multiplier).toFixed(2)}`; // Ensures two decimal places
                        if (hasTilde)
                            formattedPrice += `~`;
                        return `${currencySymbol}${formattedPrice}`;
                    };

                    const creditVideoPrice = formatPrice(price, creditVideo, currencySymbol);
                    const inpaintPrice = formatPrice(price, creditPerInpaint, currencySymbol);
                    const artPrice = formatPrice(price, creditPerArtGeneration, currencySymbol);

                    return {
                        faceSwap: {
                            name: "Video Swap",
                            formula: credits => shortDescription
                                ? `${Math.floor((credits * SingleCreditForTotalFrameAmount) / (FPS * seconds))} mins`
                                : `${creditVideo} credit (${creditVideoPrice})/${creditPerTotalFrames} fps (${Math.floor((credits * SingleCreditForTotalFrameAmount) / (FPS * seconds))} mins)`
                        },
                        imageSwap: {
                            name: "Image Swap",
                            formula: credits => shortDescription
                                ? `${Math.floor(credits)} process`
                                : `1 cred (${currencySymbol}${price})/image (${Math.floor(credits)})`
                        },
                        inpaint: {
                            name: "Clothing Inpaint",
                            formula: credits => shortDescription
                                ? `${Math.floor(credits / creditPerInpaint)} process`
                                : `${creditPerInpaint} creds (${inpaintPrice})/inpaint (${Math.floor(credits / creditPerInpaint)})`
                        },
                        artGeneration: {
                            name: "Art Generator",
                            formula: credits => shortDescription
                                ? `${Math.floor(credits)} process`
                                : `${creditPerArtGeneration} cred (${artPrice})/art (${Math.floor(credits)})`
                        }
                    };
                };

                const capabilities = getCapabilities(!isSubscriptionMode ? isShortDescription : false, price, currencySymbol);

                if (isSubscriptionMode) {
                    capabilityListElement.innerHTML = `
                                                <li class="capability">${capabilities.faceSwap.name}: 2 hours per process</li>
                                                ${Object.values(capabilities).map(capability =>
                        capability.name !== capabilities.faceSwap.name
                            ? `<li class="capability">${capability.name}: Unlimited</li>`
                            : ''
                    ).join('')}`;
                } else {
                    capabilityListElement.innerHTML = Object.values(capabilities).map(capability =>
                        `<li class="capability">${capability.name}: ${capability.formula(credits)}</li>`
                    ).join('');
                }
            }

            const features = {
                subscription: [
                    { text: "Verified account", icon: checkmarkIcon },
                    { text: "Upload limit to 500MB", icon: checkmarkIcon },
                    { text: "Multiple face swap", icon: checkmarkIcon },
                    { text: "Priority queue", icon: checkmarkIcon }
                ],
                credits: [
                    { text: "Verified account", icon: checkmarkIcon },
                    { text: "Upload limit to 500MB", icon: checkmarkIcon },
                    { text: "Multiple face swap", icon: checkmarkIcon },
                    { text: "Priority queue", icon: xIcon }
                ]
            };

            function updateFeatureList(isCreditsMode) {
                const featuresListElement = document.getElementById("features-list");
                featuresListElement.innerHTML = "";
                const selectedFeatures = isCreditsMode ? features.credits : features.subscription;
                selectedFeatures.forEach(({ text, icon }) => {
                    featuresListElement.innerHTML += `<p class="feature">${icon} ${text}</p>`;
                });
            }

            function calculatePrice(value) { return prices[value - 1]; }
            function calculateDiscountSubPrice(value) { return discountedSubprices[value - 1]; }
            function calculateSubPrice(value) { return subprices[value - 1]; }
            function calculateCredit(value) { return credits[value - 1]; }

            function updatePlan(plan) {
                document.getElementById('plan-name').textContent = plan.name;
                document.getElementById('popular-tag').style.opacity = plan.isPopular ? '1' : '0';
            }

            function formatNumber(value, currency, show99, minimumFractionDigits = 0, maximumFractionDigits = 3) {
                let locale;

                switch (currency) {
                    case 'USD': locale = 'en-US'; break;
                    case 'EUR': locale = 'de-DE'; break;
                    case 'GBP': locale = 'en-GB'; break;
                    case 'TRY': locale = 'tr-TR'; break;
                    default: locale = 'en-US';
                }

                if (value >= 1000) {
                    value = Math.round(value) - 0.01;
                    minimumFractionDigits = 0;
                    maximumFractionDigits = 4;
                } else if (value >= 750) {
                    value = Math.round(value / 100) * 100 - 0.01;
                    minimumFractionDigits = 0;
                    maximumFractionDigits = 4;
                } else if (value >= 100) {
                    value = Math.floor(value / 10) * 10 - 0.01;
                    minimumFractionDigits = 0;
                    maximumFractionDigits = 4;
                } else if (value >= 5) {
                    value = Math.round(value) - 0.01;
                    minimumFractionDigits = 0;
                    maximumFractionDigits = 4;
                } else if (value >= 0.1) {
                    const factor = 10;
                    value = (Math.floor(value * factor) / factor) - 0.01;
                    minimumFractionDigits = 0;
                    maximumFractionDigits = 3;
                } else if (value >= 0.01) {
                    minimumFractionDigits = 0;
                    maximumFractionDigits = 2;
                } else if (value >= 0.001) {
                    minimumFractionDigits = 0;
                    maximumFractionDigits = 3;
                }

                const options = { style: 'decimal', minimumFractionDigits, maximumFractionDigits, };
                const formattedValue = new Intl.NumberFormat(locale, options).format(value);
                return locale === 'en-US' ? formattedValue : `${formattedValue}~`;
            }

            let createdEvent = false;

            const ACTUAL = 0;
            const DISCOUNT = 1;

            async function createPayment() {
                const ScreenMode = Object.freeze({
                    PHONE: 3,
                    PC: 1,
                });

                const baseContainer = document.getElementById('baseContainer');
                if (baseContainer)
                    baseContainer.style.alignItems = getScreenMode() === ScreenMode.PHONE ? 'unset' : 'center';

                const selectedCurrencyElement = document.querySelector('.background-dot-container-option.selected[data-currency]');
                let selectedCurrency = selectedCurrencyElement ? selectedCurrencyElement.getAttribute('data-currency') : 'USD';

                const sliderElement = document.getElementById("slider");
                const subscriptionMode = document.getElementById("subscription-mode");
                const creditsMode = document.getElementById("credits-mode");
                const currencyOptions = document.querySelectorAll(".background-dot-container-option[data-currency]");
                const dailyPriceAmountElement = document.getElementById("cost-per-day");
                const discountElement = document.getElementById("discount");
                const discountDetailsElement = document.getElementById("discount-details");
                const purchase = document.getElementById("purchase");
                const toggleDescriptionButton = document.getElementById("toggle-description");
                const fpsSlider = document.getElementById('fps-slider');
                const fpsValueDisplay = document.getElementById('fps-value');

                currencyOptions.forEach(option => {
                    option.addEventListener('click', () => {
                        const newCurrency = option.getAttribute("data-currency");
                        if (newCurrency !== selectedCurrency) {
                            currencyOptions.forEach(opt => opt.classList.remove("selected"));
                            option.classList.add("selected");
                            selectedCurrency = newCurrency;
                            updatePrices();
                        }
                    });
                });

                function updatePrices() {
                    updateSliderRange();
                    const isCreditsMode = creditsMode.classList.contains("selected");
                    let currencySymbol = getCurrencySymbol(selectedCurrency);

                    updateFeatureList(isCreditsMode);

                    let value, price = [0, 0], h1PriceAmount = [0, 0], priceInSelectedCurrency = [0, 0];
                    let message = '';
                    let isNonUSDOrBTC = selectedCurrency !== 'USD' && selectedCurrency !== 'BTC';

                    const convertCurrency = (amount) => isNonUSDOrBTC && conversionRates ? amount * conversionRates[selectedCurrency] : amount;
                    const updateDisplay = (text, unit) => {
                        dailyPriceAmountElement.innerHTML = text;
                        document.getElementById('cost-per-day-unit').textContent = unit;
                    };

                    function getCurrencySymbol(currency) {
                        const symbols = { USD: '$', EUR: '€', GBP: '£', TRY: '₺', BTC: '$' };
                        return symbols[currency] || currency;
                    }

                    if (isCreditsMode) {
                        const plans = {
                            '1': { name: 'Starter', isPopular: false },
                            '2': { name: 'Standard', isPopular: false },
                            '3': { name: 'Recommended', isPopular: true },
                            '8': { name: 'Enterprise', isPopular: false },
                            '9': { name: 'Best Value', isPopular: false },
                            'default': { name: 'Advanced', isPopular: false }
                        };

                        function updateVariables() {
                            const selectedCurrencyElement = document.querySelector('.background-dot-container-option.selected[data-currency]');
                            selectedCurrency = selectedCurrencyElement ? selectedCurrencyElement.getAttribute('data-currency') : 'USD';
                            currencySymbol = getCurrencySymbol(selectedCurrency);
                            isNonUSDOrBTC = selectedCurrency !== 'USD' && selectedCurrency !== 'BTC';

                            value = sliderElement.value;
                            updatePlan(plans[value] || plans['default']);

                            const creditAmount = calculateCredit(value);
                            price[ACTUAL] = calculatePrice(value);
                            priceInSelectedCurrency[ACTUAL] = convertCurrency(price[ACTUAL]);
                            h1PriceAmount[ACTUAL] = creditAmount > 0 ? price[ACTUAL] / creditAmount : null;
                            h1PriceAmount[ACTUAL] = h1PriceAmount[ACTUAL] !== null ? convertCurrency(h1PriceAmount[ACTUAL]) : null;

                            price[DISCOUNT] = calculatePrice(value);
                            priceInSelectedCurrency[DISCOUNT] = convertCurrency(price[DISCOUNT]);
                            h1PriceAmount[DISCOUNT] = creditAmount > 0 ? price[DISCOUNT] / creditAmount : null;
                            h1PriceAmount[DISCOUNT] = h1PriceAmount[DISCOUNT] !== null ? convertCurrency(h1PriceAmount[DISCOUNT]) : null;

                            fpsValueDisplay.textContent = `${fpsSlider.value} FPS`;
                            FPS = fpsSlider.value;
                            updateCapabilityList(formatNumber(h1PriceAmount[ACTUAL], selectedCurrency), currencySymbol, false, creditAmount);

                            fpsSlider.style.display = 'block';
                            fpsValueDisplay.style.display = 'block';
                            toggleDescriptionButton.style.display = 'block';
                            if (!createdEvent) {
                                toggleDescriptionButton.addEventListener('click', function () {
                                    isShortDescription = !isShortDescription;
                                    this.textContent = isShortDescription ? "+" : "-";
                                    updateCapabilityList(formatNumber(h1PriceAmount[ACTUAL], selectedCurrency), currencySymbol, false, creditAmount);
                                });

                                fpsSlider.addEventListener('input', function () { updateVariables(); });
                                createdEvent = true;
                            }
                            message = 'You can spend your credits anytime.';

                            let discountDisplay = '';

                            if (h1PriceAmount[ACTUAL] !== h1PriceAmount[DISCOUNT]) {
                                discountDetailsElement.innerHTML = `
                                                    Discounted:
                                                    <span style="text-decoration: line-through;font-weight: 400;">${currencySymbol}${formatNumber(priceInSelectedCurrency[ACTUAL], selectedCurrency, true)}</span>
                                                    <span >${currencySymbol}${formatNumber(priceInSelectedCurrency[DISCOUNT], selectedCurrency, true)}</span>

                                                <div class="plans-popular" id="popular-tag" style="display: flex; float: right;">
                                                    <p class="plans-name text-gradient">OFF -${discount}%</p>
                                                </div>
                                            `;

                                discountDisplay = `
                                                <span style="text-decoration: line-through;font-weight: 400;">${currencySymbol}${formatNumber(h1PriceAmount[ACTUAL], selectedCurrency, true)}</span>
                                                <span >${currencySymbol}${formatNumber(h1PriceAmount[DISCOUNT], selectedCurrency, true)}</span>
                                            `;
                            }
                            else {
                                discountDetailsElement.style.display = 'unset';
                                discountDetailsElement.style.gap = 'unset';
                                discountDetailsElement.innerHTML = `
                                                Total Price:
                                                <span >${currencySymbol}${formatNumber(priceInSelectedCurrency[ACTUAL], selectedCurrency, true)}</span>
                                            `;

                                discountDisplay = `
                                                <span >${currencySymbol}${formatNumber(h1PriceAmount[ACTUAL], selectedCurrency, true)}</span>
                                            `;
                            }

                            updateDisplay(discountDisplay, '/credit');
                        }

                        updateVariables();
                    } else {
                        const plans = {
                            '1': { name: 'Starter', isPopular: true },
                            '2': { name: 'Standard', isPopular: false },
                            '6': { name: 'Enterprise', isPopular: false },
                            'default': { name: 'Advanced', isPopular: false }
                        };

                        function updateVariables() {
                            const selectedCurrencyElement = document.querySelector('.background-dot-container-option.selected[data-currency]');
                            selectedCurrency = selectedCurrencyElement ? selectedCurrencyElement.getAttribute('data-currency') : 'USD';
                            currencySymbol = getCurrencySymbol(selectedCurrency);
                            isNonUSDOrBTC = selectedCurrency !== 'USD' && selectedCurrency !== 'BTC';

                            value = sliderElement.value;
                            updatePlan(plans[value] || plans['default']);

                            const durationDays = durationsInDays[value - 1];
                            price[ACTUAL] = calculateSubPrice(value);
                            priceInSelectedCurrency[ACTUAL] = convertCurrency(price[ACTUAL]);
                            h1PriceAmount[ACTUAL] = durationDays > 0 ? price[ACTUAL] / durationDays : null;
                            h1PriceAmount[ACTUAL] = h1PriceAmount[ACTUAL] !== null ? convertCurrency(h1PriceAmount[ACTUAL]) : null;

                            price[DISCOUNT] = calculateDiscountSubPrice(value);
                            priceInSelectedCurrency[DISCOUNT] = convertCurrency(price[DISCOUNT]);
                            h1PriceAmount[DISCOUNT] = durationDays > 0 ? price[DISCOUNT] / durationDays : null;
                            h1PriceAmount[DISCOUNT] = h1PriceAmount[DISCOUNT] !== null ? convertCurrency(h1PriceAmount[DISCOUNT]) : null;

                            fpsSlider.style.display = 'none';
                            fpsValueDisplay.style.display = 'none';
                            updateCapabilityList(formatNumber(h1PriceAmount[ACTUAL], selectedCurrency), currencySymbol);

                            isShortDescription = true;
                            toggleDescriptionButton.style.display = "none";

                            message = 'Use our products without credit limitations.';
                            if (durationDays === -1) {
                                discountDetailsElement.textContent = '';

                                let discountDisplay = '';

                                if (priceInSelectedCurrency[ACTUAL] !== priceInSelectedCurrency[DISCOUNT]) {
                                    discountDisplay = `
                                                    <span style="text-decoration: line-through;font-weight: 400;">${currencySymbol}${formatNumber(priceInSelectedCurrency[ACTUAL], selectedCurrency, true)}</span>
                                                    <span >${currencySymbol}${formatNumber(priceInSelectedCurrency[DISCOUNT], selectedCurrency, true)}</span>
                                                `;
                                }
                                else {
                                    discountDisplay = `
                                                    <span>${currencySymbol}${formatNumber(priceInSelectedCurrency[ACTUAL], selectedCurrency, true)}</span>
                                                `;
                                }

                                updateDisplay(discountDisplay, '/day');
                            } else {
                                let discountDisplay = '';

                                if (h1PriceAmount[ACTUAL] !== h1PriceAmount[DISCOUNT]) {
                                    discountDetailsElement.innerHTML = `
                                                        Discounted:
                                                        <span style="text-decoration: line-through;font-weight: 400;">${currencySymbol}${formatNumber(priceInSelectedCurrency[ACTUAL], selectedCurrency, true)}</span>
                                                        <span >${currencySymbol}${formatNumber(priceInSelectedCurrency[DISCOUNT], selectedCurrency, true)}</span>

                                                    <div class="plans-popular" id="popular-tag" style="display: flex; float: right;">
                                                        <p class="plans-name text-gradient">OFF -${discount}%</p>
                                                    </div>
                                                `;

                                    discountDisplay = `
                                                    <span style="text-decoration: line-through;font-weight: 400;">${currencySymbol}${formatNumber(h1PriceAmount[ACTUAL], selectedCurrency, true)}</span>
                                                    <span >${currencySymbol}${formatNumber(h1PriceAmount[DISCOUNT], selectedCurrency, true)}</span>
                                                `;
                                }
                                else {
                                    discountDetailsElement.style.display = 'unset';
                                    discountDetailsElement.style.gap = 'unset';
                                    discountDetailsElement.innerHTML = `
                                                    Total Price:
                                                    <span >${currencySymbol}${formatNumber(priceInSelectedCurrency[ACTUAL], selectedCurrency, true)}</span>
                                                `;

                                    discountDisplay = `
                                                    <span >${currencySymbol}${formatNumber(h1PriceAmount[ACTUAL], selectedCurrency, true)}</span>
                                                `;
                                }

                                updateDisplay(discountDisplay, '/day');
                            }
                        }

                        updateVariables();
                    }

                    if (discountElement) discountElement.textContent = message;
                }

                function updateSliderRange() {
                    if (creditsMode.classList.contains("selected"))
                        sliderElement.max = credits.length;
                    else sliderElement.max = durations.length;

                    if (sliderElement.value > sliderElement.max)
                        sliderElement.value = sliderElement.max;
                }

                function updateSliderValue() {
                    const value = sliderElement.value;
                    if (creditsMode.classList.contains("selected")) {
                        const creditAmount = calculateCredit(value);
                        sliderElement.nextElementSibling.textContent = `${creditAmount} credit${creditAmount > 1 ? 's' : ''}`;
                    } else {
                        const selectedDuration = durations[value - 1];
                        sliderElement.nextElementSibling.textContent = selectedDuration;
                    }

                    updatePrices();
                }

                sliderElement.addEventListener("input", updateSliderValue);

                let currentMode = state.selectedMode;
                subscriptionMode.addEventListener('click', () => {
                    if (currentMode !== 'subscription-mode') {
                        subscriptionMode.classList.add("selected");
                        creditsMode.classList.remove("selected");
                        currentMode = 'subscription-mode';
                        updateSliderRange();
                        updateSliderValue();
                    }
                });

                creditsMode.addEventListener('click', () => {
                    if (currentMode !== 'credits-mode') {
                        creditsMode.classList.add("selected");
                        subscriptionMode.classList.remove("selected");
                        currentMode = 'credits-mode';
                        updateSliderRange();
                        updateSliderValue();
                    }
                });

                updateSliderRange();
                updateSliderValue();

                purchase.addEventListener('click', async () => { await handleBuyNow(); });

                async function handleBuyNow() {
                    const userData = await getUserData();
                    if (!userData || !userData.uid) {
                        alert('User data not found.');
                        return;
                    }

                    const selectedMode = subscriptionMode.classList.contains("selected") ? 'subscription' : 'credits';
                    const requestData = {
                        userId: userData.uid,
                        userEmail: userData.email,
                        selectedCurrency,
                        sliderElement: sliderElement.value,
                        selectedMode,
                    };

                    const isBTC = selectedCurrency === 'BTC';
                    const serverPath = isBTC ? '/create-charge-new-2' : '/create-charge-2';
                    const response = await fetch(`${isBTC ? serverAddressAPI : serverAddressPAYTR}${serverPath}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(requestData)
                    });

                    const responseData = isBTC ? await response.json() : await response.text();
                    if (response.ok && ((isBTC && responseData.data.hosted_url) || (!isBTC && !responseData.error))) {
                        handleSuccess(requestData, responseData, isBTC);
                    } else {
                        alert(responseData.error || 'An unexpected error occurred');
                    }
                }

                function handleSuccess(requestData, responseData, isBTC) {
                    if (isBTC) {
                        window.open(responseData.data.hosted_url, '_blank');
                    } else {
                        const paymentContainer = document.getElementById('paymentContainer');
                        paymentContainer.style.display = 'block';
                        paymentContainer.innerHTML = responseData;
                    }

                    triggerGtagEvent(requestData);
                }

                function triggerGtagEvent(requestData) {
                    if (typeof gtag !== 'function') {
                        alert('gtag is not defined. Ensure gtag.js is loaded.');
                        return;
                    }

                    const eventParams = {
                        'value': parseFloat(calculatePrice(sliderElement.value)) || 0,
                        'currency': requestData.selectedCurrency,
                        'transaction_id': `TRANS_${requestData.userId}_${Date.now()}`,
                        'selected_mode': requestData.selectedMode,
                        'user_id': requestData.userId,
                        'user_email': requestData.userEmail,
                    };

                    console.log('Sending conversion event to gtag:', eventParams); // Useful for debugging
                    gtag('event', 'conversion_event_purchase', eventParams);
                }
            }

            let previousScreenMode = null;

            async function sizeBasedElements() {
                const screenMode = getScreenMode();
                const shouldUpdate = previousScreenMode !== screenMode;
                previousScreenMode = screenMode;
                if (!shouldUpdate)
                    return;

                createPayment();

                window.addEventListener('resize', sizeBasedElements);
            }

            sizeBasedElements();
        });
    </script>
    <script async>
        (function () {
            document.addEventListener('DOMContentLoaded', function () {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker
                        .register('./scripts/service-worker.js')
                        .then(() => console.log('Service worker registered successfully.'))
                        .catch(err => console.error('Service worker registration failed:', err));
                }
            });
        })();
    </script>

</body>
</html>
